(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Df={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function ET(){if(fy)return Ll;fy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var dy;function TT(){return dy||(dy=1,Df.exports=ET()),Df.exports}var at=TT(),Cf={exports:{}},zl={},If={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function AT(){return my||(my=1,function(r){function e(H,tt){var lt=H.length;H.push(tt);t:for(;0<lt;){var Pt=lt-1>>>1,C=H[Pt];if(0<o(C,tt))H[Pt]=tt,H[lt]=C,lt=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],lt=H.pop();if(lt!==tt){H[0]=lt;t:for(var Pt=0,C=H.length,K=C>>>1;Pt<K;){var et=2*(Pt+1)-1,Z=H[et],ut=et+1,Rt=H[ut];if(0>o(Z,lt))ut<C&&0>o(Rt,Z)?(H[Pt]=Rt,H[ut]=lt,Pt=ut):(H[Pt]=Z,H[et]=lt,Pt=et);else if(ut<C&&0>o(Rt,lt))H[Pt]=Rt,H[ut]=lt,Pt=ut;else break t}}return tt}function o(H,tt){var lt=H.sortIndex-tt.sortIndex;return lt!==0?lt:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,N=null,z=3,j=!1,J=!1,nt=!1,$=!1,Tt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Lt(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)s(v);else if(tt.startTime<=H)s(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function _t(H){if(nt=!1,Lt(H),!J)if(i(_)!==null)J=!0,It||(It=!0,M());else{var tt=i(v);tt!==null&&ae(_t,tt.startTime-H)}}var It=!1,O=-1,S=5,D=-1;function b(){return $?!0:!(r.unstable_now()-D<S)}function V(){if($=!1,It){var H=r.unstable_now();D=H;var tt=!0;try{t:{J=!1,nt&&(nt=!1,Et(O),O=-1),j=!0;var lt=z;try{e:{for(Lt(H),N=i(_);N!==null&&!(N.expirationTime>H&&b());){var Pt=N.callback;if(typeof Pt=="function"){N.callback=null,z=N.priorityLevel;var C=Pt(N.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){N.callback=C,Lt(H),tt=!0;break e}N===i(_)&&s(_),Lt(H)}else s(_);N=i(_)}if(N!==null)tt=!0;else{var K=i(v);K!==null&&ae(_t,K.startTime-H),tt=!1}}break t}finally{N=null,z=lt,j=!1}tt=void 0}}finally{tt?M():It=!1}}}var M;if(typeof mt=="function")M=function(){mt(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Xt=w.port2;w.port1.onmessage=V,M=function(){Xt.postMessage(null)}}else M=function(){Tt(V,0)};function ae(H,tt){O=Tt(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return z},r.unstable_next=function(H){switch(z){case 1:case 2:case 3:var tt=3;break;default:tt=z}var lt=z;z=tt;try{return H()}finally{z=lt}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=z;z=H;try{return tt()}finally{z=lt}},r.unstable_scheduleCallback=function(H,tt,lt){var Pt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:A++,callback:tt,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>Pt?(H.sortIndex=lt,e(v,H),i(_)===null&&H===i(v)&&(nt?(Et(O),O=-1):nt=!0,ae(_t,lt-Pt))):(H.sortIndex=C,e(_,H),J||j||(J=!0,It||(It=!0,M()))),H},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(H){var tt=z;return function(){var lt=z;z=tt;try{return H.apply(this,arguments)}finally{z=lt}}}}(Vf)),Vf}var gy;function ST(){return gy||(gy=1,If.exports=AT()),If.exports}var Nf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function bT(){if(py)return At;py=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function z(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,nt={};function $(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||j}$.prototype.isReactComponent={},$.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Tt(){}Tt.prototype=$.prototype;function Et(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||j}var mt=Et.prototype=new Tt;mt.constructor=Et,J(mt,$.prototype),mt.isPureReactComponent=!0;var Lt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},It=Object.prototype.hasOwnProperty;function O(C,K,et,Z,ut,Rt){return et=Rt.ref,{$$typeof:r,type:C,key:K,ref:et!==void 0?et:null,props:Rt}}function S(C,K){return O(C.type,K,void 0,void 0,void 0,C.props)}function D(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function b(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return K[et]})}var V=/\/+/g;function M(C,K){return typeof C=="object"&&C!==null&&C.key!=null?b(""+C.key):K.toString(36)}function w(){}function Xt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ae(C,K,et,Z,ut){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(Rt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case r:case e:pt=!0;break;case A:return pt=C._init,ae(pt(C._payload),K,et,Z,ut)}}if(pt)return ut=ut(C),pt=Z===""?"."+M(C,0):Z,Lt(ut)?(et="",pt!=null&&(et=pt.replace(V,"$&/")+"/"),ae(ut,K,et,"",function(Ln){return Ln})):ut!=null&&(D(ut)&&(ut=S(ut,et+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(V,"$&/")+"/")+pt)),K.push(ut)),1;pt=0;var Re=Z===""?".":Z+":";if(Lt(C))for(var Zt=0;Zt<C.length;Zt++)Z=C[Zt],Rt=Re+M(Z,Zt),pt+=ae(Z,K,et,Rt,ut);else if(Zt=z(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(Z=C.next()).done;)Z=Z.value,Rt=Re+M(Z,Zt++),pt+=ae(Z,K,et,Rt,ut);else if(Rt==="object"){if(typeof C.then=="function")return ae(Xt(C),K,et,Z,ut);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,K,et){if(C==null)return C;var Z=[],ut=0;return ae(C,Z,"","",function(Rt){return K.call(et,Rt,ut++)}),Z}function tt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return At.Children={map:H,forEach:function(C,K,et){H(C,function(){K.apply(this,arguments)},et)},count:function(C){var K=0;return H(C,function(){K++}),K},toArray:function(C){return H(C,function(K){return K})||[]},only:function(C){if(!D(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=$,At.Fragment=i,At.Profiler=o,At.PureComponent=Et,At.StrictMode=s,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,K,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Z=J({},C.props),ut=C.key,Rt=void 0;if(K!=null)for(pt in K.ref!==void 0&&(Rt=void 0),K.key!==void 0&&(ut=""+K.key),K)!It.call(K,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&K.ref===void 0||(Z[pt]=K[pt]);var pt=arguments.length-2;if(pt===1)Z.children=et;else if(1<pt){for(var Re=Array(pt),Zt=0;Zt<pt;Zt++)Re[Zt]=arguments[Zt+2];Z.children=Re}return O(C.type,ut,void 0,void 0,Rt,Z)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,K,et){var Z,ut={},Rt=null;if(K!=null)for(Z in K.key!==void 0&&(Rt=""+K.key),K)It.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ut[Z]=K[Z]);var pt=arguments.length-2;if(pt===1)ut.children=et;else if(1<pt){for(var Re=Array(pt),Zt=0;Zt<pt;Zt++)Re[Zt]=arguments[Zt+2];ut.children=Re}if(C&&C.defaultProps)for(Z in pt=C.defaultProps,pt)ut[Z]===void 0&&(ut[Z]=pt[Z]);return O(C,Rt,void 0,void 0,null,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=D,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},At.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},At.startTransition=function(C){var K=_t.T,et={};_t.T=et;try{var Z=C(),ut=_t.S;ut!==null&&ut(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Pt,lt)}catch(Rt){lt(Rt)}finally{_t.T=K}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(C){return _t.H.use(C)},At.useActionState=function(C,K,et){return _t.H.useActionState(C,K,et)},At.useCallback=function(C,K){return _t.H.useCallback(C,K)},At.useContext=function(C){return _t.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,K){return _t.H.useDeferredValue(C,K)},At.useEffect=function(C,K,et){var Z=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(C,K)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(C,K,et){return _t.H.useImperativeHandle(C,K,et)},At.useInsertionEffect=function(C,K){return _t.H.useInsertionEffect(C,K)},At.useLayoutEffect=function(C,K){return _t.H.useLayoutEffect(C,K)},At.useMemo=function(C,K){return _t.H.useMemo(C,K)},At.useOptimistic=function(C,K){return _t.H.useOptimistic(C,K)},At.useReducer=function(C,K,et){return _t.H.useReducer(C,K,et)},At.useRef=function(C){return _t.H.useRef(C)},At.useState=function(C){return _t.H.useState(C)},At.useSyncExternalStore=function(C,K,et){return _t.H.useSyncExternalStore(C,K,et)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.0",At}var yy;function gd(){return yy||(yy=1,Nf.exports=bT()),Nf.exports}var Of={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function RT(){if(_y)return je;_y=1;var r=gd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:_,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},je.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},je.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},je.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},je.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,N=g(A,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:z,fetchPriority:j}):A==="script"&&s.d.X(_,{crossOrigin:N,integrity:z,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},je.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,N=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},je.requestFormReset=function(_){s.d.r(_)},je.unstable_batchedUpdates=function(_,v){return _(v)},je.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var vy;function wT(){if(vy)return Of.exports;vy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Of.exports=RT(),Of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function DT(){if(Ey)return zl;Ey=1;var r=ST(),e=gd(),i=wT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case $:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case It:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case mt:return(t.displayName||"Context")+".Provider";case Et:return(t._context.displayName||"Context")+".Consumer";case Lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Xt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Xt(t(n))}catch{}}return null}var ae=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Pt=[],C=-1;function K(t){return{current:t}}function et(t){0>C||(t.current=Pt[C],Pt[C]=null,C--)}function Z(t,n){C++,Pt[C]=t.current,t.current=n}var ut=K(null),Rt=K(null),pt=K(null),Re=K(null);function Zt(t,n){switch(Z(pt,n),Z(Rt,t),Z(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kp(n),t=qp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ut),Z(ut,t)}function Ln(){et(ut),et(Rt),et(pt)}function Li(t){t.memoizedState!==null&&Z(Re,t);var n=ut.current,a=qp(n,t.type);n!==a&&(Z(Rt,t),Z(ut,a))}function si(t){Rt.current===t&&(et(ut),et(Rt)),Re.current===t&&(et(Re),Nl._currentValue=lt)}var Da=Object.prototype.hasOwnProperty,Ca=r.unstable_scheduleCallback,Ia=r.unstable_cancelCallback,Cs=r.unstable_shouldYield,lo=r.unstable_requestPaint,gn=r.unstable_now,wc=r.unstable_getCurrentPriorityLevel,Is=r.unstable_ImmediatePriority,Er=r.unstable_UserBlockingPriority,Va=r.unstable_NormalPriority,Dc=r.unstable_LowPriority,Tr=r.unstable_IdlePriority,Vs=r.log,oo=r.unstable_setDisableYieldValue,re=null,jt=null;function an(t){if(typeof Vs=="function"&&oo(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var ke=Math.clz32?Math.clz32:Na,uo=Math.log,Cc=Math.LN2;function Na(t){return t>>>=0,t===0?32:31-(uo(t)/Cc|0)|0}var Oa=256,Ma=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ar(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(y&=E,y!==0?c=In(y):a||(a=E&~t,a!==0&&(c=In(a))))):(E=l&~f,E!==0?c=In(E):y!==0?c=In(y):a||(a=l&~t,a!==0&&(c=In(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function xa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ns(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Oa;return Oa<<=1,(Oa&4194048)===0&&(Oa=256),t}function Ms(){var t=Ma;return Ma<<=1,(Ma&62914560)===0&&(Ma=4194304),t}function li(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function oi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xs(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-ke(a),Q=1<<G;E[G]=0,R[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}a&=~Q}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Us(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ke(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:sy(t.type))}function co(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,fe="__reactProps$"+Wt,pn="__reactContainer$"+Wt,Ls="__reactEvents$"+Wt,Ic="__reactListeners$"+Wt,Bi="__reactHandles$"+Wt,ho="__reactResources$"+Wt,Ua="__reactMarker$"+Wt;function ki(t){delete t[ye],delete t[fe],delete t[Ls],delete t[Ic],delete t[Bi]}function ui(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[pn]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Fp(t);t!==null;){if(a=t[ye])return a;t=Fp(t)}return n}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[ye]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qe(t){var n=t[ho];return n||(n=t[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Ua]=!0}var zs=new Set,br={};function Vn(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(br[t]=n,t=0;t<n.length;t++)zs.add(n[t])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},La={};function go(t){return Da.call(La,t)?!0:Da.call(mo,t)?!1:fo.test(t)?La[t]=!0:(mo[t]=!0,!1)}function qi(t,n,a){if(go(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function kn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Oe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var za,po;function hi(t){if(za===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);za=n&&n[1]||"",po=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+za+t+po}var Rr=!1;function wr(t,n){if(!t||Rr)return"";Rr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(k){var B=k}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(k){B=k}t.call(Q.prototype)}}else{try{throw Error()}catch(k){B=k}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Rr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return wr(t.type,!1);case 11:return wr(t.type.render,!1);case 1:return wr(t.type,!0);case 31:return hi("Activity");default:return""}}function Dr(t){try{var n="";do n+=Ps(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vc(t){var n=Bs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Cr(t){t._valueTracker||(t._valueTracker=Vc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nc=/[\n"\\]/g;function de(t){return t.replace(Nc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ji(t,y,Ye(n)):a!=null?ji(t,y,Ye(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Ba(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ye(a):"",n=n!=null?""+Ye(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ji(t,n,a){n==="number"&&Pa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ye(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,a){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ye(a):""}function ka(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ye(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||qa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qs(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&yo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&yo(t,f,n[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ir(t){return Mc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var di=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function Hs(t){var n=Pn(t);if(n&&(t=n.stateNode)){var a=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ks(l)}break t;case"textarea":Ft(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&fi(t,!!a.multiple,n,!1)}}}var qn=!1;function _o(t,n,a){if(qn)return t(n,a);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(mi!==null||gi!==null)&&(hu(),mi&&(n=mi,t=gi,gi=mi=null,Hs(n),t)))for(n=0;n<t.length;n++)Hs(t[n])}}function ja(t,n){var a=t.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{vn=!1}var jn=null,Hi=null,pi=null;function Gs(){if(pi)return pi;var t,n=Hi,a=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return pi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Fs(){return!1}function we(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Fs,this.isPropagationStopped=Fs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=we(kt),Ga=A({},kt,{view:0,detail:0}),vo=we(Ga),Nr,Or,Fn,Fa=A({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Nr=t.screenX-Fn.screenX,Or=t.screenY-Fn.screenY):Or=Nr=0,Fn=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Or}}),En=we(Fa),Eo=A({},Fa,{dataTransfer:0}),xc=we(Eo),Qa=A({},Ga,{relatedTarget:0}),Mr=we(Qa),Qs=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),xr=we(Qs),To=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ur=we(To),Uc=A({},kt,{data:0}),Ys=we(Uc),Ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ao={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},So={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=So[t])?!!n[t]:!1}function Ka(){return Ks}var bo=A({},Ga,{key:function(t){if(t.key){var n=Ya[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ao[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lr=we(bo),Ro=A({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=we(Ro),yi=A({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),wo=we(yi),Do=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Co=we(Do),Io=A({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zr=we(Io),Ke=A({},kt,{newState:0,oldState:0}),Vo=we(Ke),No=[9,13,27,32],Qn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,p=Nn&&(!Qn||u&&8<u&&11>=u),T=" ",U=!1;function q(t,n){switch(t){case"keyup":return No.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function _e(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function Ot(t,n){if(Nt)return t==="compositionend"||!Qn&&q(t,n)?(t=Gs(),pi=Hi=jn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function _i(t,n,a,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=yu(n,"onChange"),0<n.length&&(a=new Vr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Yn=null;function $s(t){Up(t,0)}function Oo(t){var n=Bn(t);if(ks(n))return t}function nm(t,n){if(t==="change")return n}var im=!1;if(Nn){var Lc;if(Nn){var zc="oninput"in document;if(!zc){var am=document.createElement("div");am.setAttribute("oninput","return;"),zc=typeof am.oninput=="function"}Lc=zc}else Lc=!1;im=Lc&&(!document.documentMode||9<document.documentMode)}function rm(){Me&&(Me.detachEvent("onpropertychange",sm),Yn=Me=null)}function sm(t){if(t.propertyName==="value"&&Oo(Yn)){var n=[];_i(n,Yn,t,_n(t)),_o($s,n)}}function $0(t,n,a){t==="focusin"?(rm(),Me=n,Yn=a,Me.attachEvent("onpropertychange",sm)):t==="focusout"&&rm()}function Z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oo(Yn)}function J0(t,n){if(t==="click")return Oo(n)}function W0(t,n){if(t==="input"||t==="change")return Oo(n)}function tE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:tE;function Zs(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Da.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function om(t,n){var a=lm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=lm(a)}}function um(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?um(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Pa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Pa(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var eE=Nn&&"documentMode"in document&&11>=document.documentMode,Pr=null,Bc=null,Js=null,kc=!1;function hm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||Pr==null||Pr!==Pa(l)||(l=Pr,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&Zs(Js,l)||(Js=l,l=yu(Bc,"onSelect"),0<l.length&&(n=new Vr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Pr)))}function Xa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Br={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},qc={},fm={};Nn&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function $a(t){if(qc[t])return qc[t];if(!Br[t])return t;var n=Br[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in fm)return qc[t]=n[a];return t}var dm=$a("animationend"),mm=$a("animationiteration"),gm=$a("animationstart"),nE=$a("transitionrun"),iE=$a("transitionstart"),aE=$a("transitioncancel"),pm=$a("transitionend"),ym=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function On(t,n){ym.set(t,n),Vn(n,[t])}var _m=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var a=_m.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Dr(n)},_m.set(t,n),n)}return{value:t,source:n,stack:Dr(n)}}var An=[],kr=0,Hc=0;function Mo(){for(var t=kr,n=Hc=kr=0;n<t;){var a=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&vm(a,c,f)}}function xo(t,n,a,l){An[kr++]=t,An[kr++]=n,An[kr++]=a,An[kr++]=l,Hc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gc(t,n,a,l){return xo(t,n,a,l),Uo(t)}function qr(t,n){return xo(t,null,null,n),Uo(t)}function vm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Uo(t){if(50<Sl)throw Sl=0,$h=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var jr={};function rE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,a,l){return new rE(t,n,a,l)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var a=t.alternate;return a===null?(a=ln(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Em(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lo(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Fc(t)&&(y=1);else if(typeof t=="string")y=lT(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=ln(31,a,n,c),t.elementType=D,t.lanes=f,t;case J:return Za(a.children,c,f,n);case nt:y=8,c|=24;break;case $:return t=ln(12,a,n,c|2),t.elementType=$,t.lanes=f,t;case _t:return t=ln(13,a,n,c),t.elementType=_t,t.lanes=f,t;case It:return t=ln(19,a,n,c),t.elementType=It,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tt:case mt:y=10;break t;case Et:y=9;break t;case Lt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Za(t,n,a,l){return t=ln(7,t,l,n),t.lanes=a,t}function Qc(t,n,a){return t=ln(6,t,null,n),t.lanes=a,t}function Yc(t,n,a){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hr=[],Gr=0,zo=null,Po=0,Sn=[],bn=0,Ja=null,Ei=1,Ti="";function Wa(t,n){Hr[Gr++]=Po,Hr[Gr++]=zo,zo=t,Po=n}function Tm(t,n,a){Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Ja,Ja=t;var l=Ei;t=Ti;var c=32-ke(l)-1;l&=~(1<<c),a+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ei=1<<32-ke(n)+c|a<<c|l,Ti=f+t}else Ei=1<<f|a<<c|l,Ti=t}function Kc(t){t.return!==null&&(Wa(t,1),Tm(t,1,0))}function Xc(t){for(;t===zo;)zo=Hr[--Gr],Hr[Gr]=null,Po=Hr[--Gr],Hr[Gr]=null;for(;t===Ja;)Ja=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null,Ei=Sn[--bn],Sn[bn]=null}var Xe=null,se=null,Bt=!1,tr=null,Kn=!1,$c=Error(s(519));function er(t){var n=Error(s(418,""));throw el(Tn(n,t)),$c}function Am(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[fe]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ct(Rl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ba(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Cr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ka(n,l.value,l.defaultValue,l.children),Cr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Bp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=_u),n=!0):n=!1,n||er(t)}function Sm(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Xe=Xe.return}}function Ws(t){if(t!==Xe)return!1;if(!Bt)return Sm(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||df(t.type,t.memoizedProps)),a=!a),a&&se&&er(t),Sm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=xn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ra(t.type)?(t=yf,yf=null,se=t):se=n):se=Xe?xn(t.stateNode.nextSibling):null;return!0}function tl(){se=Xe=null,Bt=!1}function bm(){var t=tr;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),tr=null),t}function el(t){tr===null?tr=[t]:tr.push(t)}var Zc=K(null),nr=null,Ai=null;function Gi(t,n,a){Z(Zc,n._currentValue),n._currentValue=a}function Si(t){t._currentValue=Zc.current,et(Zc)}function Jc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Wc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Jc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function nl(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Wc(n,t,a,l),n.flags|=262144}function Bo(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ir(t){nr=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Rm(nr,t)}function ko(t,n){return nr===null&&ir(t),Rm(t,n)}function Rm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return a}var sE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},lE=r.unstable_scheduleCallback,oE=r.unstable_NormalPriority,Ee={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new sE,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&lE(oE,function(){t.controller.abort()})}var al=null,eh=0,Fr=0,Qr=null;function uE(t,n){if(al===null){var a=al=[];eh=0,Fr=af(),Qr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return eh++,n.then(wm,wm),n}function wm(){if(--eh===0&&al!==null){Qr!==null&&(Qr.status="fulfilled");var t=al;al=null,Fr=0,Qr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function cE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Dm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&uE(t,n),Dm!==null&&Dm(t,n)};var ar=K(null);function nh(){var t=ar.current;return t!==null?t:Jt.pooledCache}function qo(t,n){n===null?Z(ar,ar.current):Z(ar,n.pool)}function Cm(){var t=nh();return t===null?null:{parent:Ee._currentValue,pool:t}}var rl=Error(s(460)),Im=Error(s(474)),jo=Error(s(542)),ih={then:function(){}};function Vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ho(){}function Nm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ho,Ho),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t;default:if(typeof n.status=="string")n.then(Ho,Ho);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Mm(t),t}throw sl=n,rl}}var sl=null;function Om(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function Mm(t){if(t===rl||t===jo)throw Error(s(483))}var Fi=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Uo(t),vm(t,null,a),n}return xo(t,l,n,a),Uo(t)}function ll(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Us(t,a)}}function sh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var lh=!1;function ol(){if(lh){var t=Qr;if(t!==null)throw t}}function ul(t,n,a,l){lh=!1;var c=t.updateQueue;Fi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,y===null?f=P:y.next=P,y=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var Q=c.baseState;y=0,G=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Mt&B)===B:(l&B)===B){B!==0&&B===Fr&&(lh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ht=E;B=n;var Kt=a;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){Q=gt.call(Kt,Q,B);break t}Q=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,B=typeof gt=="function"?gt.call(Kt,Q,B):gt,B==null)break t;Q=A({},Q,B);break t;case 2:Fi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=k,R=Q):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(R=Q),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ea|=y,t.lanes=y,t.memoizedState=Q}}function xm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Um(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)xm(a[t],n)}var Yr=K(null),Go=K(0);function Lm(t,n){t=Vi,Z(Go,t),Z(Yr,n),Vi=t|n.baseLanes}function oh(){Z(Go,Vi),Z(Yr,Yr.current)}function uh(){Vi=Go.current,et(Yr),et(Go)}var Ki=0,St=null,Qt=null,me=null,Fo=!1,Kr=!1,rr=!1,Qo=0,cl=0,Xr=null,hE=0;function ue(){throw Error(s(321))}function ch(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!sn(t[a],n[a]))return!1;return!0}function hh(t,n,a,l,c,f){return Ki=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?vg:Eg,rr=!1,f=a(l,c),rr=!1,Kr&&(f=Pm(n,a,l,c)),zm(t),f}function zm(t){H.H=Jo;var n=Qt!==null&&Qt.next!==null;if(Ki=0,me=Qt=St=null,Fo=!1,cl=0,Xr=null,n)throw Error(s(300));t===null||Ce||(t=t.dependencies,t!==null&&Bo(t)&&(Ce=!0))}function Pm(t,n,a,l){St=t;var c=0;do{if(Kr&&(Xr=null),cl=0,Kr=!1,25<=c)throw Error(s(301));if(c+=1,me=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=_E,f=n(a,l)}while(Kr);return f}function fE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(St.flags|=1024),n}function fh(){var t=Qo!==0;return Qo=0,t}function dh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mh(t){if(Fo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fo=!1}Ki=0,me=Qt=St=null,Kr=!1,cl=Qo=0,Xr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=t:me=me.next=t,me}function ge(){if(Qt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Qt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?St.memoizedState=me=t:me=me.next=t}return me}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Xr===null&&(Xr=[]),t=Nm(Xr,t,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?vg:Eg),t}function Yo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===mt)return qe(t)}throw Error(s(438,String(t)))}function ph(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=gh(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=b;return n.index++,a}function bi(t,n){return typeof n=="function"?n(t):n}function Ko(t){var n=ge();return yh(n,Qt,t)}function yh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,P=n,G=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Mt&Q)===Q:(Ki&Q)===Q){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===Fr&&(G=!0);else if((Ki&B)===B){P=P.next,B===Fr&&(G=!0);continue}else Q={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Q,y=f):R=R.next=Q,St.lanes|=B,ea|=B;Q=P.action,rr&&a(f,Q),f=P.hasEagerState?P.eagerState:a(f,Q)}else B={lane:Q,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,St.lanes|=Q,ea|=Q;P=P.next}while(P!==null&&P!==n);if(R===null?y=f:R.next=E,!sn(f,t.memoizedState)&&(Ce=!0,G&&(a=Qr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Bm(t,n,a){var l=St,c=ge(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!sn((Qt||c).memoizedState,a);y&&(c.memoizedState=a,Ce=!0),c=c.queue;var E=jm.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,$r(9,Xo(),qm.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));f||(Ki&124)!==0||km(l,n,a)}return a}function km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=gh(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function qm(t,n,a,l){n.value=a,n.getSnapshot=l,Hm(n)&&Gm(t)}function jm(t,n,a){return a(function(){Hm(n)&&Gm(t)})}function Hm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!sn(t,a)}catch{return!0}}function Gm(t){var n=qr(t,2);n!==null&&fn(n,t,2)}function vh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),rr){an(!0);try{a()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function Fm(t,n,a,l){return t.baseState=a,yh(t,Qt,typeof l=="function"?l:bi)}function dE(t,n,a,l,c){if(Zo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Qm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Qm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),R=H.S;R!==null&&R(y,E),Ym(t,n,E)}catch(P){Eh(t,n,P)}finally{H.T=f}}else try{f=a(c,l),Ym(t,n,f)}catch(P){Eh(t,n,P)}}function Ym(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Km(t,n,l)},function(l){return Eh(t,n,l)}):Km(t,n,a)}function Km(t,n,a){n.status="fulfilled",n.value=a,Xm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Qm(t,a)))}function Eh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Xm(n),n=n.next;while(n!==l)}t.action=null}function Xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $m(t,n){return n}function Zm(t,n){if(Bt){var a=Jt.formState;if(a!==null){t:{var l=St;if(Bt){if(se){e:{for(var c=se,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=xn(c.nextSibling),l=c.data==="F!";break t}}er(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},a.queue=l,a=pg.bind(null,St,l),l.dispatch=a,l=vh(!1),f=Rh.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=dE.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Jm(t){var n=ge();return Wm(n,Qt,t)}function Wm(t,n,a){if(n=yh(t,n,$m)[0],t=Ko(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(y){throw y===rl?jo:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,$r(9,Xo(),mE.bind(null,c,a),null)),[l,f,t]}function mE(t,n){t.action=n}function tg(t){var n=ge(),a=Qt;if(a!==null)return Wm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function $r(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=gh(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Xo(){return{destroy:void 0,resource:void 0}}function eg(){return ge().memoizedState}function $o(t,n,a,l){var c=$e();l=l===void 0?null:l,St.flags|=t,c.memoizedState=$r(1|n,Xo(),a,l)}function fl(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&ch(l,Qt.memoizedState.deps)?c.memoizedState=$r(n,f,a,l):(St.flags|=t,c.memoizedState=$r(1|n,f,a,l))}function ng(t,n){$o(8390656,8,t,n)}function ig(t,n){fl(2048,8,t,n)}function ag(t,n){return fl(4,2,t,n)}function rg(t,n){return fl(4,4,t,n)}function sg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lg(t,n,a){a=a!=null?a.concat([t]):null,fl(4,4,sg.bind(null,n,t),a)}function Th(){}function og(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ch(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ug(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ch(n,l[1]))return l[0];if(l=t(),rr){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l}function Ah(t,n,a){return a===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=fp(),St.lanes|=t,ea|=t,a)}function cg(t,n,a,l){return sn(a,n)?a:Yr.current!==null?(t=Ah(t,a,l),sn(t,n)||(Ce=!0),t):(Ki&42)===0?(Ce=!0,t.memoizedState=a):(t=fp(),St.lanes|=t,ea|=t,n)}function hg(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Rh(t,!1,n,a);try{var R=c(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=cE(R,l);dl(t,n,G,hn(t))}else dl(t,n,l,hn(t))}catch(Q){dl(t,n,{then:function(){},status:"rejected",reason:Q},hn())}finally{tt.p=f,H.T=y}}function gE(){}function Sh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=fg(t).queue;hg(t,c,n,lt,a===null?gE:function(){return dg(t),a(l)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dg(t){var n=fg(t).next.queue;dl(t,n,{},hn())}function bh(){return qe(Nl)}function mg(){return ge().memoizedState}function gg(){return ge().memoizedState}function pE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();t=Qi(a);var l=Yi(n,t,a);l!==null&&(fn(l,n,a),ll(l,n,a)),n={cache:th()},t.payload=n;return}n=n.return}}function yE(t,n,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Zo(t)?yg(n,a):(a=Gc(t,n,a,l),a!==null&&(fn(a,t,l),_g(a,n,l)))}function pg(t,n,a){var l=hn();dl(t,n,a,l)}function dl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zo(t))yg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return xo(t,n,c,0),Jt===null&&Mo(),!1}catch{}finally{}if(a=Gc(t,n,c,l),a!==null)return fn(a,t,l),_g(a,n,l),!0}return!1}function Rh(t,n,a,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},Zo(t)){if(n)throw Error(s(479))}else n=Gc(t,a,l,2),n!==null&&fn(n,t,2)}function Zo(t){var n=t.alternate;return t===St||n!==null&&n===St}function yg(t,n){Kr=Fo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function _g(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Us(t,a)}}var Jo={readContext:qe,use:Yo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},vg={readContext:qe,use:Yo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:ng,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,$o(4194308,4,sg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return $o(4194308,4,t,n)},useInsertionEffect:function(t,n){$o(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(rr){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(rr){an(!0);try{a(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=yE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=vh(t);var n=t.queue,a=pg.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Th,useDeferredValue:function(t,n){var a=$e();return Ah(a,t,n)},useTransition:function(){var t=vh(!1);return t=hg.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=$e();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Mt&124)!==0||km(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,ng(jm.bind(null,l,f,t),[t]),l.flags|=2048,$r(9,Xo(),qm.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Bt){var a=Ti,l=Ei;a=(l&~(1<<32-ke(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Qo++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=hE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:bh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rh.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:ph,useCacheRefresh:function(){return $e().memoizedState=pE.bind(null,St)}},Eg={readContext:qe,use:Yo,useCallback:og,useContext:qe,useEffect:ig,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:rg,useMemo:ug,useReducer:Ko,useRef:eg,useState:function(){return Ko(bi)},useDebugValue:Th,useDeferredValue:function(t,n){var a=ge();return cg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Ko(bi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:bh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,n){var a=ge();return Fm(a,Qt,t,n)},useMemoCache:ph,useCacheRefresh:gg},_E={readContext:qe,use:Yo,useCallback:og,useContext:qe,useEffect:ig,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:rg,useMemo:ug,useReducer:_h,useRef:eg,useState:function(){return _h(bi)},useDebugValue:Th,useDeferredValue:function(t,n){var a=ge();return Qt===null?Ah(a,t,n):cg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=_h(bi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:bh,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var a=ge();return Qt!==null?Fm(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ph,useCacheRefresh:gg},Zr=null,ml=0;function Wo(t){var n=ml;return ml+=1,Zr===null&&(Zr=[]),Nm(Zr,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function tu(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Tg(t){var n=t._init;return n(t._payload)}function Ag(t){function n(x,I){if(t){var L=x.deletions;L===null?(x.deletions=[I],x.flags|=16):L.push(I)}}function a(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=vi(x,I),x.index=0,x.sibling=null,x}function f(x,I,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<I?(x.flags|=67108866,I):L):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,L,F){return I===null||I.tag!==6?(I=Qc(L,x.mode,F),I.return=x,I):(I=c(I,L),I.return=x,I)}function R(x,I,L,F){var rt=L.type;return rt===J?G(x,I,L.props.children,F,L.key):I!==null&&(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Tg(rt)===I.type)?(I=c(I,L.props),gl(I,L),I.return=x,I):(I=Lo(L.type,L.key,L.props,null,x.mode,F),gl(I,L),I.return=x,I)}function P(x,I,L,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Yc(L,x.mode,F),I.return=x,I):(I=c(I,L.children||[]),I.return=x,I)}function G(x,I,L,F,rt){return I===null||I.tag!==7?(I=Za(L,x.mode,F,rt),I.return=x,I):(I=c(I,L),I.return=x,I)}function Q(x,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Qc(""+I,x.mode,L),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case z:return L=Lo(I.type,I.key,I.props,null,x.mode,L),gl(L,I),L.return=x,L;case j:return I=Yc(I,x.mode,L),I.return=x,I;case S:var F=I._init;return I=F(I._payload),Q(x,I,L)}if(ae(I)||M(I))return I=Za(I,x.mode,L,null),I.return=x,I;if(typeof I.then=="function")return Q(x,Wo(I),L);if(I.$$typeof===mt)return Q(x,ko(x,I),L);tu(x,I)}return null}function B(x,I,L,F){var rt=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(x,I,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===rt?R(x,I,L,F):null;case j:return L.key===rt?P(x,I,L,F):null;case S:return rt=L._init,L=rt(L._payload),B(x,I,L,F)}if(ae(L)||M(L))return rt!==null?null:G(x,I,L,F,null);if(typeof L.then=="function")return B(x,I,Wo(L),F);if(L.$$typeof===mt)return B(x,I,ko(x,L),F);tu(x,L)}return null}function k(x,I,L,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(L)||null,E(I,x,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case z:return x=x.get(F.key===null?L:F.key)||null,R(I,x,F,rt);case j:return x=x.get(F.key===null?L:F.key)||null,P(I,x,F,rt);case S:var wt=F._init;return F=wt(F._payload),k(x,I,L,F,rt)}if(ae(F)||M(F))return x=x.get(L)||null,G(I,x,F,rt,null);if(typeof F.then=="function")return k(x,I,L,Wo(F),rt);if(F.$$typeof===mt)return k(x,I,L,ko(I,F),rt);tu(I,F)}return null}function gt(x,I,L,F){for(var rt=null,wt=null,st=I,ft=I=0,Ve=null;st!==null&&ft<L.length;ft++){st.index>ft?(Ve=st,st=null):Ve=st.sibling;var zt=B(x,st,L[ft],F);if(zt===null){st===null&&(st=Ve);break}t&&st&&zt.alternate===null&&n(x,st),I=f(zt,I,ft),wt===null?rt=zt:wt.sibling=zt,wt=zt,st=Ve}if(ft===L.length)return a(x,st),Bt&&Wa(x,ft),rt;if(st===null){for(;ft<L.length;ft++)st=Q(x,L[ft],F),st!==null&&(I=f(st,I,ft),wt===null?rt=st:wt.sibling=st,wt=st);return Bt&&Wa(x,ft),rt}for(st=l(st);ft<L.length;ft++)Ve=k(st,x,ft,L[ft],F),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?ft:Ve.key),I=f(Ve,I,ft),wt===null?rt=Ve:wt.sibling=Ve,wt=Ve);return t&&st.forEach(function(ca){return n(x,ca)}),Bt&&Wa(x,ft),rt}function ht(x,I,L,F){if(L==null)throw Error(s(151));for(var rt=null,wt=null,st=I,ft=I=0,Ve=null,zt=L.next();st!==null&&!zt.done;ft++,zt=L.next()){st.index>ft?(Ve=st,st=null):Ve=st.sibling;var ca=B(x,st,zt.value,F);if(ca===null){st===null&&(st=Ve);break}t&&st&&ca.alternate===null&&n(x,st),I=f(ca,I,ft),wt===null?rt=ca:wt.sibling=ca,wt=ca,st=Ve}if(zt.done)return a(x,st),Bt&&Wa(x,ft),rt;if(st===null){for(;!zt.done;ft++,zt=L.next())zt=Q(x,zt.value,F),zt!==null&&(I=f(zt,I,ft),wt===null?rt=zt:wt.sibling=zt,wt=zt);return Bt&&Wa(x,ft),rt}for(st=l(st);!zt.done;ft++,zt=L.next())zt=k(st,x,ft,zt.value,F),zt!==null&&(t&&zt.alternate!==null&&st.delete(zt.key===null?ft:zt.key),I=f(zt,I,ft),wt===null?rt=zt:wt.sibling=zt,wt=zt);return t&&st.forEach(function(vT){return n(x,vT)}),Bt&&Wa(x,ft),rt}function Kt(x,I,L,F){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:t:{for(var rt=L.key;I!==null;){if(I.key===rt){if(rt=L.type,rt===J){if(I.tag===7){a(x,I.sibling),F=c(I,L.props.children),F.return=x,x=F;break t}}else if(I.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Tg(rt)===I.type){a(x,I.sibling),F=c(I,L.props),gl(F,L),F.return=x,x=F;break t}a(x,I);break}else n(x,I);I=I.sibling}L.type===J?(F=Za(L.props.children,x.mode,F,L.key),F.return=x,x=F):(F=Lo(L.type,L.key,L.props,null,x.mode,F),gl(F,L),F.return=x,x=F)}return y(x);case j:t:{for(rt=L.key;I!==null;){if(I.key===rt)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){a(x,I.sibling),F=c(I,L.children||[]),F.return=x,x=F;break t}else{a(x,I);break}else n(x,I);I=I.sibling}F=Yc(L,x.mode,F),F.return=x,x=F}return y(x);case S:return rt=L._init,L=rt(L._payload),Kt(x,I,L,F)}if(ae(L))return gt(x,I,L,F);if(M(L)){if(rt=M(L),typeof rt!="function")throw Error(s(150));return L=rt.call(L),ht(x,I,L,F)}if(typeof L.then=="function")return Kt(x,I,Wo(L),F);if(L.$$typeof===mt)return Kt(x,I,ko(x,L),F);tu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(a(x,I.sibling),F=c(I,L),F.return=x,x=F):(a(x,I),F=Qc(L,x.mode,F),F.return=x,x=F),y(x)):a(x,I)}return function(x,I,L,F){try{ml=0;var rt=Kt(x,I,L,F);return Zr=null,rt}catch(st){if(st===rl||st===jo)throw st;var wt=ln(29,st,null,x.mode);return wt.lanes=F,wt.return=x,wt}finally{}}}var Jr=Ag(!0),Sg=Ag(!1),Rn=K(null),Xn=null;function Xi(t){var n=t.alternate;Z(Te,Te.current&1),Z(Rn,t),Xn===null&&(n===null||Yr.current!==null||n.memoizedState!==null)&&(Xn=t)}function bg(t){if(t.tag===22){if(Z(Te,Te.current),Z(Rn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else $i()}function $i(){Z(Te,Te.current),Z(Rn,Rn.current)}function Ri(t){et(Rn),Xn===t&&(Xn=null),et(Te)}var Te=K(0);function eu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Qi(l);c.payload=n,a!=null&&(c.callback=a),n=Yi(t,c,l),n!==null&&(fn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Qi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Yi(t,c,l),n!==null&&(fn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=hn(),l=Qi(a);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,a),n!==null&&(fn(n,t,a),ll(n,t,a))}};function Rg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Zs(a,l)||!Zs(c,f):!0}function wg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function sr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Dg(t){nu(t)}function Cg(t){console.error(t)}function Ig(t){nu(t)}function iu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ch(t,n,a){return a=Qi(a),a.tag=3,a.payload={element:null},a.callback=function(){iu(t,n)},a}function Ng(t){return t=Qi(t),t.tag=3,t}function Og(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Vg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Vg(n,a,l),typeof c!="function"&&(na===null?na=new Set([this]):na.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function vE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&nl(n,a,c,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return Xn===null?Jh():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===ih?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),tf(t,l,c)),!1;case 22:return a.flags|=65536,l===ih?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),tf(t,l,c)),!1}throw Error(s(435,a.tag))}return tf(t,l,c),Jh(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(s(422),{cause:l}),el(Tn(t,a)))):(l!==$c&&(n=Error(s(423),{cause:l}),el(Tn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,a),c=Ch(t.stateNode,l,c),sh(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,a),Al===null?Al=[f]:Al.push(f),le!==4&&(le=2),n===null)return!0;l=Tn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ch(a.stateNode,l,t),sh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(na===null||!na.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ng(c),Og(c,t,a,l),sh(a,c),!1}a=a.return}while(a!==null);return!1}var Mg=Error(s(461)),Ce=!1;function xe(t,n,a,l){n.child=t===null?Sg(n,null,a,l):Jr(n,t.child,a,l)}function xg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ir(n),l=hh(t,n,a,y,f,c),E=fh(),t!==null&&!Ce?(dh(t,n,c),wi(t,n,c)):(Bt&&E&&Kc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Ug(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Lg(t,n,f,l,c)):(t=Lo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zs,a(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Lg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Zs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,Lh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Ih(t,n,a,l,c)}function zg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Pg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qo(n,f!==null?f.cachePool:null),f!==null?Lm(n,f):oh(),bg(n);else return n.lanes=n.childLanes=536870912,Pg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(qo(n,f.cachePool),Lm(n,f),$i(),n.memoizedState=null):(t!==null&&qo(n,null),oh(),$i());return xe(t,n,c,a),n.child}function Pg(t,n,a,l){var c=nh();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&qo(n,null),oh(),bg(n),t!==null&&nl(t,n,l,!0),null}function au(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ih(t,n,a,l,c){return ir(n),a=hh(t,n,a,l,void 0,c),l=fh(),t!==null&&!Ce?(dh(t,n,c),wi(t,n,c)):(Bt&&l&&Kc(n),n.flags|=1,xe(t,n,a,c),n.child)}function Bg(t,n,a,l,c,f){return ir(n),n.updateQueue=null,a=Pm(n,l,a,c),zm(t),l=fh(),t!==null&&!Ce?(dh(t,n,f),wi(t,n,f)):(Bt&&l&&Kc(n),n.flags|=1,xe(t,n,a,f),n.child)}function kg(t,n,a,l,c){if(ir(n),n.stateNode===null){var f=jr,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):jr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(wh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Dh.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=sr(a,E);f.props=R;var P=f.context,G=a.contextType;y=jr,typeof G=="object"&&G!==null&&(y=qe(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&wg(n,f,l,y),Fi=!1;var B=n.memoizedState;f.state=B,ul(n,l,f,c),ol(),P=n.memoizedState,E||B!==P||Fi?(typeof Q=="function"&&(wh(n,a,Q,l),P=n.memoizedState),(R=Fi||Rg(n,a,R,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rh(t,n),y=n.memoizedProps,G=sr(a,y),f.props=G,Q=n.pendingProps,B=f.context,P=a.contextType,R=jr,typeof P=="object"&&P!==null&&(R=qe(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||B!==R)&&wg(n,f,l,R),Fi=!1,B=n.memoizedState,f.state=B,ul(n,l,f,c),ol();var k=n.memoizedState;y!==Q||B!==k||Fi||t!==null&&t.dependencies!==null&&Bo(t.dependencies)?(typeof E=="function"&&(wh(n,a,E,l),k=n.memoizedState),(G=Fi||Rg(n,a,G,l,B,k,R)||t!==null&&t.dependencies!==null&&Bo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,au(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,c),n.child=Jr(n,null,a,c)):xe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function qg(t,n,a,l){return tl(),n.flags|=256,xe(t,n,a,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(t){return{baseLanes:t,cachePool:Cm()}}function Oh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=wn),t}function jg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Xi(n):$i(),Bt){var E=se,R;if(R=E){t:{for(R=E,E=Kn;R.nodeType!==8;){if(!E){E=null;break t}if(R=xn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ja!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},R=ln(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Xe=n,se=null,R=!0):R=!1}R||er(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return pf(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?($i(),c=n.mode,E=ru({mode:"hidden",children:E},c),l=Za(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Nh(a),c.childLanes=Oh(t,y,a),n.memoizedState=Vh,l):(Xi(n),Mh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=xh(t,n,a)):n.memoizedState!==null?($i(),n.child=t.child,n.flags|=128,n=null):($i(),c=l.fallback,E=n.mode,l=ru({mode:"visible",children:l.children},E),c=Za(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Jr(n,t.child,null,a),l=n.child,l.memoizedState=Nh(a),l.childLanes=Oh(t,y,a),n.memoizedState=Vh,n=c);else if(Xi(n),pf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,el({value:l,source:null,stack:null}),n=xh(t,n,a)}else if(Ce||nl(t,n,a,!1),y=(a&t.childLanes)!==0,Ce||y){if(y=Jt,y!==null&&(l=a&-a,l=(l&42)!==0?1:zi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,qr(t,l),fn(y,t,l),Mg;E.data==="$?"||Jh(),n=xh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,se=xn(E.nextSibling),Xe=n,Bt=!0,tr=null,Kn=!1,t!==null&&(Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Ja,Ei=t.id,Ti=t.overflow,Ja=n),n=Mh(n,l.children),n.flags|=4096);return n}return c?($i(),c=l.fallback,E=n.mode,R=t.child,P=R.sibling,l=vi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=vi(P,c):(c=Za(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Nh(a):(R=E.cachePool,R!==null?(P=Ee._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=Cm(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Oh(t,y,a),n.memoizedState=Vh,l):(Xi(n),a=t.child,t=a.sibling,a=vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Mh(t,n){return n=ru({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ru(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xh(t,n,a){return Jr(n,t.child,null,a),t=Mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Hg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,a)}function Uh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Gg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,a),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hg(t,a,n);else if(t.tag===19)Hg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(Te,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&eu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Uh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Uh(n,!0,a,null,f);break;case"together":Uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ea|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(nl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Lh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bo(t)))}function EE(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Gi(n,Ee,t.memoizedState.cache),tl();break;case 27:case 5:Li(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jg(t,n,a):(Xi(n),t=wi(t,n,a),t!==null?t.sibling:null);Xi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(nl(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Gg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,zg(t,n,a);case 24:Gi(n,Ee,t.memoizedState.cache)}return wi(t,n,a)}function Fg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Lh(t,a)&&(n.flags&128)===0)return Ce=!1,EE(t,n,a);Ce=(t.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&Tm(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Fc(l)?(t=sr(l,t),n.tag=1,n=kg(null,n,l,t,a)):(n.tag=0,n=Ih(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Lt){n.tag=11,n=xg(null,n,l,t,a);break t}else if(c===O){n.tag=14,n=Ug(null,n,l,t,a);break t}}throw n=Xt(l)||l,Error(s(306,n,""))}}return n;case 0:return Ih(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=sr(l,n.pendingProps),kg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),ul(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Gi(n,Ee,l),l!==f.cache&&Wc(n,[Ee],a,!0),ol(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qg(t,n,l,a);break t}else if(l!==c){c=Tn(Error(s(424)),n),el(c),n=qg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=xn(t.firstChild),Xe=n,Bt=!0,tr=null,Kn=!0,a=Sg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===c){n=wi(t,n,a);break t}xe(t,n,l,a)}n=n.child}return n;case 26:return au(t,n),t===null?(a=Xp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=vu(pt.current).createElement(a),l[ye]=n,l[fe]=t,Le(l,a,t),oe(l),n.stateNode=l):n.memoizedState=Xp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Li(n),t===null&&Bt&&(l=n.stateNode=Qp(n.type,n.pendingProps,pt.current),Xe=n,Kn=!0,c=se,ra(n.type)?(yf=c,se=xn(l.firstChild)):se=c),xe(t,n,n.pendingProps.children,a),au(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=se)&&(l=KE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Xe=n,se=xn(l.firstChild),Kn=!1,c=!0):c=!1),c||er(n)),Li(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,df(c,f)?l=null:y!==null&&df(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(t,n,fE,null,null,a),Nl._currentValue=c),au(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=se)&&(a=XE(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Xe=n,se=null,t=!0):t=!1),t||er(n)),null;case 13:return jg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,a):xe(t,n,l,a),n.child;case 11:return xg(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ir(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return Ug(t,n,n.type,n.pendingProps,a);case 15:return Lg(t,n,n.type,n.pendingProps,a);case 19:return Gg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=ru(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=vi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return zg(t,n,a);case 24:return ir(n),l=qe(Ee),t===null?(c=nh(),c===null&&(c=Jt,f=th(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ah(n),Gi(n,Ee,c)):((t.lanes&a)!==0&&(rh(t,n),ul(n,null,null,a),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,Ee,l)):(l=f.cache,Gi(n,Ee,l),l!==c.cache&&Wc(n,[Ee],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Di(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n)){if(n=Rn.current,n!==null&&((Mt&4194048)===Mt?Xn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Xn))throw sl=ih,Im;t.flags|=8192}}function su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ms():536870912,t.lanes|=n,ns|=n)}function pl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function TE(t,n,a){var l=n.pendingProps;switch(Xc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ee),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bm())),ne(n),null;case 26:return a=n.memoizedState,t===null?(Di(n),a!==null?(ne(n),Qg(n,a)):(ne(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Di(n),ne(n),Qg(n,a)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ne(n),n.flags&=-16777217),null;case 27:si(n),a=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=ut.current,Ws(n)?Am(n):(t=Qp(c,l,a),n.stateNode=t,Di(n))}return ne(n),null;case 5:if(si(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=ut.current,Ws(n))Am(n);else{switch(c=vu(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ye]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=pt.current,Ws(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Bp(t.nodeValue,a)),t||er(n)}else t=vu(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ws(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=bm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),su(n,n.updateQueue),ne(n),null;case 4:return Ln(),t===null&&of(n.stateNode.containerInfo),ne(n),null;case 10:return Si(n.type),ne(n),null;case 19:if(et(Te),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,su(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Em(a,t),a=a.sibling;return Z(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>uu&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=eu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,su(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*gn()-c.renderingStartTime>uu&&a!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Te.current,Z(Te,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ri(n),uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&su(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&et(ar),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Si(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function AE(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ee),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Te),null;case 4:return Ln(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),uh(),t!==null&&et(ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ee),null;case 25:return null;default:return null}}function Yg(t,n){switch(Xc(n),n.tag){case 3:Si(Ee),Ln();break;case 26:case 27:case 5:si(n);break;case 4:Ln();break;case 13:Ri(n);break;case 19:et(Te);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),uh(),t!==null&&et(ar);break;case 24:Si(Ee)}}function yl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){$t(n,n.return,E)}}function Zi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=a,P=E;try{P()}catch(G){$t(c,R,G)}}}l=l.next}while(l!==f)}}catch(G){$t(n,n.return,G)}}function Kg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Um(n,a)}catch(l){$t(t,t.return,l)}}}function Xg(t,n,a){a.props=sr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$t(t,n,l)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){$t(t,n,c)}}function $n(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){$t(t,n,c)}else a.current=null}function $g(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){$t(t,t.return,c)}}function zh(t,n,a){try{var l=t.stateNode;HE(l,t.type,a,n),l[fe]=n}catch(c){$t(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ra(t.type)||t.tag===4}function Ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=_u));else if(l!==4&&(l===27&&ra(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,a),t=t.sibling;t!==null;)Bh(t,n,a),t=t.sibling}function lu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ra(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(lu(t,n,a),t=t.sibling;t!==null;)lu(t,n,a),t=t.sibling}function Jg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,a),n[ye]=t,n[fe]=a}catch(f){$t(t,t.return,f)}}var Ci=!1,ce=!1,kh=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function SE(t,n){if(t=t.containerInfo,hf=Ru,t=cm(t),Pc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,P=0,G=0,Q=t,B=null;e:for(;;){for(var k;Q!==a||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||l!==0&&Q.nodeType!==3||(R=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(k=Q.firstChild)!==null;)B=Q,Q=k;for(;;){if(Q===t)break e;if(B===a&&++P===c&&(E=y),B===f&&++G===l&&(R=y),(k=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=k}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(ff={focusedElem:t,selectionRange:a},Ru=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var gt=sr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){$t(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function tp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&yl(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){$t(a,a.return,y)}else{var c=sr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(a,a.return,y)}}l&64&&Kg(a),l&512&&_l(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Um(t,n)}catch(y){$t(a,a.return,y)}}break;case 27:n===null&&l&4&&Jg(a);case 26:case 5:Ji(t,a),n===null&&l&4&&$g(a),l&512&&_l(a,a.return);break;case 12:Ji(t,a);break;case 13:Ji(t,a),l&4&&ip(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=OE.bind(null,a),$E(t,a))));break;case 22:if(l=a.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||ce,c=Ci;var f=ce;Ci=l,(ce=n)&&!f?Wi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Ci=c,ce=f}break;case 30:break;default:Ji(t,a)}}function ep(t){var n=t.alternate;n!==null&&(t.alternate=null,ep(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ki(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Ze=!1;function Ii(t,n,a){for(a=a.child;a!==null;)np(t,n,a),a=a.sibling}function np(t,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:ce||$n(a,n),Ii(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||$n(a,n);var l=te,c=Ze;ra(a.type)&&(te=a.stateNode,Ze=!1),Ii(t,n,a),Dl(a.stateNode),te=l,Ze=c;break;case 5:ce||$n(a,n);case 6:if(l=te,c=Ze,te=null,Ii(t,n,a),te=l,Ze=c,te!==null)if(Ze)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{te.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:te!==null&&(Ze?(t=te,Gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ul(t)):Gp(te,a.stateNode));break;case 4:l=te,c=Ze,te=a.stateNode.containerInfo,Ze=!0,Ii(t,n,a),te=l,Ze=c;break;case 0:case 11:case 14:case 15:ce||Zi(2,a,n),ce||Zi(4,a,n),Ii(t,n,a);break;case 1:ce||($n(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xg(a,n,l)),Ii(t,n,a);break;case 21:Ii(t,n,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Ii(t,n,a),ce=l;break;default:Ii(t,n,a)}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(a){$t(n,n.return,a)}}function bE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Wg),n;default:throw Error(s(435,t.tag))}}function qh(t,n){var a=bE(t);n.forEach(function(l){var c=ME.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function on(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ra(E.type)){te=E.stateNode,Ze=!1;break t}break;case 5:te=E.stateNode,Ze=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Ze=!0;break t}E=E.return}if(te===null)throw Error(s(160));np(f,y,c),te=null,Ze=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ap(n,t),n=n.sibling}var Mn=null;function ap(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Zi(3,t,t.return),yl(3,t),Zi(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(ce||a===null||$n(a,a.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Mn;if(on(n,t),un(t),l&512&&(ce||a===null||$n(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ua]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,a),f[ye]=t,oe(f),l=f;break t;case"link":var y=Jp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Jp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ye]=t,oe(f),l=f}t.stateNode=l}else Wp(c,t.type,t.stateNode);else t.stateNode=Zp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Wp(c,t.type,t.stateNode):Zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zh(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(ce||a===null||$n(a,a.return)),a!==null&&l&4&&zh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(ce||a===null||$n(a,a.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(k){$t(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){$t(t,t.return,k)}}break;case 3:if(Au=null,c=Mn,Mn=Eu(n.containerInfo),on(n,t),Mn=c,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(k){$t(t,t.return,k)}kh&&(kh=!1,rp(t));break;case 4:l=Mn,Mn=Eu(t.stateNode.containerInfo),on(n,t),un(t),Mn=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yh=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=Ci,G=ce;if(Ci=P||c,ce=G||R,on(n,t),ce=G,Ci=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Ci||ce||lr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){$t(R,R.return,k)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){$t(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qh(t,a))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qh(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Zg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Ph(t);lu(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(yn(y,""),a.flags&=-33);var E=Ph(t);lu(t,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,P=Ph(t);Bh(t,P,R);break;default:throw Error(s(161))}}catch(G){$t(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tp(t,n.alternate,n),n=n.sibling}function lr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Zi(4,n,n.return),lr(n);break;case 1:$n(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Xg(n,n.return,a),lr(n);break;case 27:Dl(n.stateNode);case 26:case 5:$n(n,n.return),lr(n);break;case 22:n.memoizedState===null&&lr(n);break;case 30:lr(n);break;default:lr(n)}t=t.sibling}}function Wi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,a),yl(4,f);break;case 1:if(Wi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){$t(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)xm(R[c],E)}catch(P){$t(l,l.return,P)}}a&&y&64&&Kg(f),_l(f,f.return);break;case 27:Jg(f);case 26:case 5:Wi(c,f,a),a&&l===null&&y&4&&$g(f),_l(f,f.return);break;case 12:Wi(c,f,a);break;case 13:Wi(c,f,a),a&&y&4&&ip(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,a),_l(f,f.return);break;case 30:break;default:Wi(c,f,a)}n=n.sibling}}function jh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function Hh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Zn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sp(t,n,a,l),n=n.sibling}function sp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,l),c&2048&&yl(9,n);break;case 1:Zn(t,n,a,l);break;case 3:Zn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Zn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else Zn(t,n,a,l);break;case 13:Zn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,a,l):vl(t,n):f._visibility&2?Zn(t,n,a,l):(f._visibility|=2,Wr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&jh(y,n);break;case 24:Zn(t,n,a,l),c&2048&&Hh(n.alternate,n);break;default:Zn(t,n,a,l)}}function Wr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,R=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Wr(f,y,E,R,c),yl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Wr(f,y,E,R,c):vl(f,y):(G._visibility|=2,Wr(f,y,E,R,c)),c&&P&2048&&jh(y.alternate,y);break;case 24:Wr(f,y,E,R,c),c&&P&2048&&Hh(y.alternate,y);break;default:Wr(f,y,E,R,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:vl(a,l),c&2048&&jh(l.alternate,l);break;case 24:vl(a,l),c&2048&&Hh(l.alternate,l);break;default:vl(a,l)}n=n.sibling}}var El=8192;function ts(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 26:ts(t),t.flags&El&&t.memoizedState!==null&&uT(Mn,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var n=Mn;Mn=Eu(t.stateNode.containerInfo),ts(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,ts(t),El=n):ts(t));break;default:ts(t)}}function op(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,cp(l,t)}op(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ou(t)):Tl(t);break;default:Tl(t)}}function ou(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,cp(l,t)}op(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Zi(8,n,n.return),ou(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ou(n));break;default:ou(n)}t=t.sibling}}function cp(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:Zi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(ep(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var RE={getCacheForType:function(t){var n=qe(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},wE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Dt=null,Mt=0,Gt=0,cn=null,ta=!1,es=!1,Gh=!1,Vi=0,le=0,ea=0,or=0,Fh=0,wn=0,ns=0,Al=null,Je=null,Qh=!1,Yh=0,uu=1/0,cu=null,na=null,Ue=0,ia=null,is=null,as=0,Kh=0,Xh=null,hp=null,Sl=0,$h=null;function hn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=Fr;return t!==0?t:af()}return Pi()}function fp(){wn===0&&(wn=(Mt&536870912)===0||Bt?Os():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function fn(t,n,a){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(rs(t,0),aa(t,Mt,wn,!1)),oi(t,a),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(or|=a),le===4&&aa(t,Mt,wn,!1)),Jn(t))}function dp(t,n,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||xa(t,n),c=l?IE(t,n):Wh(t,n,!0),f=l;do{if(c===0){es&&!l&&aa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!DE(a)){c=Wh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Al;var R=E.current.memoizedState.isDehydrated;if(R&&(rs(E,y).flags|=256),y=Wh(E,y,!1),y!==2){if(Gh&&!R){E.errorRecoveryDisabledLanes|=f,or|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){rs(t,0),aa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:aa(l,n,wn,!ta);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Yh+300-gn(),10<c)){if(aa(l,n,wn,!ta),Ar(l,0,!0)!==0)break t;l.timeoutHandle=jp(mp.bind(null,l,a,Je,cu,Qh,n,wn,or,ns,ta,f,2,-0,0),c);break t}mp(l,a,Je,cu,Qh,n,wn,or,ns,ta,f,0,-0,0)}}break}while(!0);Jn(t)}function mp(t,n,a,l,c,f,y,E,R,P,G,Q,B,k){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:oT},lp(n),Q=cT(),Q!==null)){t.cancelPendingCommit=Q(Tp.bind(null,t,n,f,a,l,c,y,E,R,G,1,B,k)),aa(t,f,y,!P);return}Tp(t,n,f,a,l,c,y,E,R)}function DE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function aa(t,n,a,l){n&=~Fh,n&=~or,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&zn(t,a,n)}function hu(){return(Ht&6)===0?(bl(0),!1):!0}function Zh(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,Ai=nr=null,mh(t),Zr=null,ml=0,t=Dt;for(;t!==null;)Yg(t.alternate,t),t=t.return;Dt=null}}function rs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,FE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zh(),Jt=t,Dt=a=vi(t.current,null),Mt=n,Gt=0,cn=null,ta=!1,es=xa(t,n),Gh=!1,ns=wn=Fh=or=ea=le=0,Je=Al=null,Qh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Mo(),a}function gp(t,n){St=null,H.H=Jo,n===rl||n===jo?(n=Om(),Gt=3):n===Im?(n=Om(),Gt=4):Gt=n===Mg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Dt===null&&(le=1,iu(t,Tn(n,t.current)))}function pp(){var t=H.H;return H.H=Jo,t===null?Jo:t}function yp(){var t=H.A;return H.A=RE,t}function Jh(){le=4,ta||(Mt&4194048)!==Mt&&Rn.current!==null||(es=!0),(ea&134217727)===0&&(or&134217727)===0||Jt===null||aa(Jt,Mt,wn,!1)}function Wh(t,n,a){var l=Ht;Ht|=2;var c=pp(),f=yp();(Jt!==t||Mt!==n)&&(cu=null,rs(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,R=cn;switch(Gt){case 8:Zh(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Gt;if(Gt=0,cn=null,ss(t,E,R,P),a&&es){y=0;break t}break;default:P=Gt,Gt=0,cn=null,ss(t,E,R,P)}}CE(),y=le;break}catch(G){gp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ai=nr=null,Ht=l,H.H=c,H.A=f,Dt===null&&(Jt=null,Mt=0,Mo()),y}function CE(){for(;Dt!==null;)_p(Dt)}function IE(t,n){var a=Ht;Ht|=2;var l=pp(),c=yp();Jt!==t||Mt!==n?(cu=null,uu=gn()+500,rs(t,n)):es=xa(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,ss(t,n,f,1);break;case 2:case 9:if(Vm(f)){Gt=0,cn=null,vp(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Jn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Vm(f)?(Gt=0,cn=null,vp(n)):(Gt=0,cn=null,ss(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||ty(y)){Gt=0,cn=null;var R=E.sibling;if(R!==null)Dt=R;else{var P=E.return;P!==null?(Dt=P,fu(P)):Dt=null}break e}}Gt=0,cn=null,ss(t,n,f,5);break;case 6:Gt=0,cn=null,ss(t,n,f,6);break;case 8:Zh(),le=6;break t;default:throw Error(s(462))}}VE();break}catch(G){gp(t,G)}while(!0);return Ai=nr=null,H.H=l,H.A=c,Ht=a,Dt!==null?0:(Jt=null,Mt=0,Mo(),le)}function VE(){for(;Dt!==null&&!Cs();)_p(Dt)}function _p(t){var n=Fg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?fu(t):Dt=n}function vp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Bg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Bg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:mh(n);default:Yg(a,n),n=Dt=Em(n,Vi),n=Fg(a,n,Vi)}t.memoizedProps=t.pendingProps,n===null?fu(t):Dt=n}function ss(t,n,a,l){Ai=nr=null,mh(n),Zr=null,ml=0;var c=n.return;try{if(vE(t,c,n,a,Mt)){le=1,iu(t,Tn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;le=1,iu(t,Tn(a,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:es||(Mt&536870912)!==0?t=!1:(ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ep(n,t)):fu(n)}function fu(t){var n=t;do{if((n.flags&32768)!==0){Ep(n,ta);return}t=n.return;var a=TE(n.alternate,n,Vi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);le===0&&(le=5)}function Ep(t,n){do{var a=AE(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);le=6,Dt=null}function Tp(t,n,a,l,c,f,y,E,R){t.cancelPendingCommit=null;do du();while(Ue!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Hc,xs(t,a,f,y,E,R),t===Jt&&(Dt=Jt=null,Mt=0),is=n,ia=t,as=a,Kh=f,Xh=c,hp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xE(Va,function(){return wp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{SE(t,n,a)}finally{Ht=y,tt.p=c,H.T=l}}Ue=1,Ap(),Sp(),bp()}}function Ap(){if(Ue===1){Ue=0;var t=ia,n=is,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{ap(n,t);var f=ff,y=cm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&um(E.ownerDocument.documentElement,E)){if(R!==null&&Pc(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var k=B.getSelection(),gt=E.textContent.length,ht=Math.min(R.start,gt),Kt=R.end===void 0?ht:Math.min(R.end,gt);!k.extend&&ht>Kt&&(y=Kt,Kt=ht,ht=y);var x=om(E,ht),I=om(E,Kt);if(x&&I&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var L=Q.createRange();L.setStart(x.node,x.offset),k.removeAllRanges(),ht>Kt?(k.addRange(L),k.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),k.addRange(L))}}}}for(Q=[],k=E;k=k.parentNode;)k.nodeType===1&&Q.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ru=!!hf,ff=hf=null}finally{Ht=c,tt.p=l,H.T=a}}t.current=n,Ue=2}}function Sp(){if(Ue===2){Ue=0;var t=ia,n=is,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{tp(t,n.alternate,n)}finally{Ht=c,tt.p=l,H.T=a}}Ue=3}}function bp(){if(Ue===4||Ue===3){Ue=0,lo();var t=ia,n=is,a=as,l=hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,is=ia=null,Rp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(na=null),Sr(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(as&3)!==0&&du(),Jn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===$h?Sl++:(Sl=0,$h=t):Sl=0,bl(0)}}function Rp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function du(t){return Ap(),Sp(),bp(),wp()}function wp(){if(Ue!==5)return!1;var t=ia,n=Kh;Kh=0;var a=Sr(as),l=H.T,c=tt.p;try{tt.p=32>a?32:a,H.T=null,a=Xh,Xh=null;var f=ia,y=as;if(Ue=0,is=ia=null,as=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,up(f.current),sp(f,f.current,y,a),Ht=E,bl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=c,H.T=l,Rp(t,n)}}function Dp(t,n,a){n=Tn(a,n),n=Ch(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(oi(t,2),Jn(t))}function $t(t,n,a){if(t.tag===3)Dp(t,t,a);else for(;n!==null;){if(n.tag===3){Dp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(na===null||!na.has(l))){t=Tn(a,t),a=Ng(2),l=Yi(n,a,2),l!==null&&(Og(a,l,n,t),oi(l,2),Jn(l));break}}n=n.return}}function tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new wE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Gh=!0,c.add(a),t=NE.bind(null,t,n,a),n.then(t,t))}function NE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Mt&a)===a&&(le===4||le===3&&(Mt&62914560)===Mt&&300>gn()-Yh?(Ht&2)===0&&rs(t,0):Fh|=a,ns===Mt&&(ns=0)),Jn(t)}function Cp(t,n){n===0&&(n=Ms()),t=qr(t,n),t!==null&&(oi(t,n),Jn(t))}function OE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Cp(t,a)}function ME(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Cp(t,a)}function xE(t,n){return Ca(t,n)}var mu=null,ls=null,ef=!1,gu=!1,nf=!1,ur=0;function Jn(t){t!==ls&&t.next===null&&(ls===null?mu=ls=t:ls=ls.next=t),gu=!0,ef||(ef=!0,LE())}function bl(t,n){if(!nf&&gu){nf=!0;do for(var a=!1,l=mu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Op(l,f))}else f=Mt,f=Ar(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xa(l,f)||(a=!0,Op(l,f));l=l.next}while(a);nf=!1}}function UE(){Ip()}function Ip(){gu=ef=!1;var t=0;ur!==0&&(GE()&&(t=ur),ur=0);for(var n=gn(),a=null,l=mu;l!==null;){var c=l.next,f=Vp(l,n);f===0?(l.next=null,a===null?mu=c:a.next=c,c===null&&(ls=a)):(a=l,(t!==0||(f&3)!==0)&&(gu=!0)),l=c}bl(t)}function Vp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,R=c[y];R===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Ns(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=Mt,a=Ar(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ia(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xa(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ia(l),Sr(a)){case 2:case 8:a=Er;break;case 32:a=Va;break;case 268435456:a=Tr;break;default:a=Va}return l=Np.bind(null,t),a=Ca(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ia(l),t.callbackPriority=2,t.callbackNode=null,2}function Np(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(du()&&t.callbackNode!==a)return null;var l=Mt;return l=Ar(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(dp(t,l,n),Vp(t,gn()),t.callbackNode!=null&&t.callbackNode===a?Np.bind(null,t):null)}function Op(t,n){if(du())return null;dp(t,n,!0)}function LE(){QE(function(){(Ht&6)!==0?Ca(Is,UE):Ip()})}function af(){return ur===0&&(ur=Os()),ur}function Mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ir(""+t)}function xp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function zE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Mp((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?Mp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Vr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ur!==0){var R=y?xp(c,y):new FormData(c);Sh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?xp(c,y):new FormData(c),Sh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var rf=0;rf<jc.length;rf++){var sf=jc[rf],PE=sf.toLowerCase(),BE=sf[0].toUpperCase()+sf.slice(1);On(PE,"on"+BE)}On(dm,"onAnimationEnd"),On(mm,"onAnimationIteration"),On(gm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(nE,"onTransitionRun"),On(iE,"onTransitionStart"),On(aE,"onTransitionCancel"),On(pm,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Up(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){nu(G)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){nu(G)}c.currentTarget=null,f=R}}}}function Ct(t,n){var a=n[Ls];a===void 0&&(a=n[Ls]=new Set);var l=t+"__bubble";a.has(l)||(Lp(n,t,2,!1),a.add(l))}function lf(t,n,a){var l=0;n&&(l|=4),Lp(a,t,l,n)}var pu="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[pu]){t[pu]=!0,zs.forEach(function(a){a!=="selectionchange"&&(kE.has(a)||lf(a,!1,t),lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[pu]||(n[pu]=!0,lf("selectionchange",!1,n))}}function Lp(t,n,a,l){switch(sy(n)){case 2:var c=dT;break;case 8:c=mT;break;default:c=Af}a=c.bind(null,n,a,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function uf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}_o(function(){var P=f,G=_n(a),Q=[];t:{var B=ym.get(t);if(B!==void 0){var k=Vr,gt=t;switch(t){case"keypress":if(Hn(a)===0)break t;case"keydown":case"keyup":k=Lr;break;case"focusin":gt="focus",k=Mr;break;case"focusout":gt="blur",k=Mr;break;case"beforeblur":case"afterblur":k=Mr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=wo;break;case dm:case mm:case gm:k=xr;break;case pm:k=Co;break;case"scroll":case"scrollend":k=vo;break;case"wheel":k=zr;break;case"copy":case"cut":case"paste":k=Ur;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Xs;break;case"toggle":case"beforetoggle":k=Vo}var ht=(n&4)!==0,Kt=!ht&&(t==="scroll"||t==="scrollend"),x=ht?B!==null?B+"Capture":null:B;ht=[];for(var I=P,L;I!==null;){var F=I;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||x===null||(F=ja(I,x),F!=null&&ht.push(wl(I,F,L))),Kt)break;I=I.return}0<ht.length&&(B=new k(B,gt,null,a,G),Q.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==di&&(gt=a.relatedTarget||a.fromElement)&&(ui(gt)||gt[pn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(gt=a.relatedTarget||a.toElement,k=P,gt=gt?ui(gt):null,gt!==null&&(Kt=h(gt),ht=gt.tag,gt!==Kt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(k=null,gt=P),k!==gt)){if(ht=En,F="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Xs,F="onPointerLeave",x="onPointerEnter",I="pointer"),Kt=k==null?B:Bn(k),L=gt==null?B:Bn(gt),B=new ht(F,I+"leave",k,a,G),B.target=Kt,B.relatedTarget=L,F=null,ui(G)===P&&(ht=new ht(x,I+"enter",gt,a,G),ht.target=L,ht.relatedTarget=Kt,F=ht),Kt=F,k&&gt)e:{for(ht=k,x=gt,I=0,L=ht;L;L=os(L))I++;for(L=0,F=x;F;F=os(F))L++;for(;0<I-L;)ht=os(ht),I--;for(;0<L-I;)x=os(x),L--;for(;I--;){if(ht===x||x!==null&&ht===x.alternate)break e;ht=os(ht),x=os(x)}ht=null}else ht=null;k!==null&&zp(Q,B,k,ht,!1),gt!==null&&Kt!==null&&zp(Q,Kt,gt,ht,!0)}}t:{if(B=P?Bn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var rt=nm;else if(ve(B))if(im)rt=W0;else{rt=Z0;var wt=$0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&js(P.elementType)&&(rt=nm):rt=J0;if(rt&&(rt=rt(t,P))){_i(Q,rt,a,G);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ji(B,"number",B.value)}switch(wt=P?Bn(P):window,t){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(Pr=wt,Bc=P,Js=null);break;case"focusout":Js=Bc=Pr=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,hm(Q,a,G);break;case"selectionchange":if(eE)break;case"keydown":case"keyup":hm(Q,a,G)}var st;if(Qn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Nt?q(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(p&&a.locale!=="ko"&&(Nt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Nt&&(st=Gs()):(jn=G,Hi="value"in jn?jn.value:jn.textContent,Nt=!0)),wt=yu(P,ft),0<wt.length&&(ft=new Ys(ft,t,null,a,G),Q.push({event:ft,listeners:wt}),st?ft.data=st:(st=W(a),st!==null&&(ft.data=st)))),(st=m?_e(t,a):Ot(t,a))&&(ft=yu(P,"onBeforeInput"),0<ft.length&&(wt=new Ys("onBeforeInput","beforeinput",null,a,G),Q.push({event:wt,listeners:ft}),wt.data=st)),zE(Q,t,P,a,G)}Up(Q,n)})}function wl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function yu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ja(t,a),c!=null&&l.unshift(wl(t,c,f)),c=ja(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=ja(a,f),P!=null&&y.unshift(wl(a,P,R))):c||(P=ja(a,f),P!=null&&y.push(wl(a,P,R)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var qE=/\r\n?/g,jE=/\u0000|\uFFFD/g;function Pp(t){return(typeof t=="string"?t:""+t).replace(qE,`
`).replace(jE,"")}function Bp(t,n){return n=Pp(n),Pp(t)===n}function _u(){}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ir(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ir(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_u);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ir(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),qi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,qi(t,a,l))}}function cf(t,n,a,l,c,f){switch(a){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):qi(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,a,null)}}Ba(t,f,E,R,P,y,c,!1),Cr(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):a!=null&&fi(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,a,null)}ka(t,l,c,f),Cr(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ct(Rl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,a,null)}return;default:if(js(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&cf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function HE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,P=null,G=null;for(k in a){var Q=a[k];if(a.hasOwnProperty(k)&&Q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,Q)}}for(var B in l){var k=l[B];if(Q=a[B],l.hasOwnProperty(B)&&(k!=null||Q!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==Q&&Yt(t,n,B,k,l,Q)}}rn(t,y,E,R,P,G,f,c);return;case"select":k=y=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,a=y,l=k,B!=null?fi(t,!!a,B,!1):!!l!=!!a&&(n!=null?fi(t,!!a,n,!0):fi(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Ft(t,B,k);return;case"option":for(var gt in a)if(B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Yt(t,n,gt,null,l,B)}for(R in l)if(B=l[R],k=a[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)B=a[ht],a.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Yt(t,n,ht,null,l,B);for(P in l)if(B=l[P],k=a[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,k)}return;default:if(js(n)){for(var Kt in a)B=a[Kt],a.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&cf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],k=a[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||cf(t,n,G,B,l,k);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(Q in l)B=l[Q],k=a[Q],!l.hasOwnProperty(Q)||B===k||B==null&&k==null||Yt(t,n,Q,B,l,k)}var hf=null,ff=null;function vu(t){return t.nodeType===9?t:t.ownerDocument}function kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function GE(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,FE=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(YE)}:jp;function YE(t){setTimeout(function(){throw t})}function ra(t){return t==="head"}function Gp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Dl(y.documentElement),a&2&&Dl(y.body),a&4)for(a=y.head,Dl(a),y=a.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Ua]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ul(n)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gf(a),ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function KE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ua])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function XE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $E(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var yf=null;function Fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Qp(t,n,a){switch(n=vu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ki(t)}var Dn=new Map,Yp=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=tt.d;tt.d={f:ZE,r:JE,D:WE,C:tT,L:eT,m:nT,X:aT,S:iT,M:rT};function ZE(){var t=Ni.f(),n=hu();return t||n}function JE(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?dg(n):Ni.r(t)}var us=typeof document>"u"?null:document;function Kp(t,n,a){var l=us;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Yp.has(c)||(Yp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),oe(n),l.head.appendChild(n)))}}function WE(t){Ni.D(t),Kp("dns-prefetch",t,null)}function tT(t,n){Ni.C(t,n),Kp("preconnect",t,n)}function eT(t,n,a){Ni.L(t,n,a);var l=us;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+de(a.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=cs(t);break;case"script":f=hs(t)}Dn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Le(n,"link",t),oe(n),l.head.appendChild(n)))}}function nT(t,n){Ni.m(t,n);var a=us;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hs(t)}if(!Dn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),Le(l,"link",t),oe(l),a.head.appendChild(l)}}}function iT(t,n,a){Ni.S(t,n,a);var l=us;if(l&&t){var c=Qe(l).hoistableStyles,f=cs(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Cl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&_f(t,a);var R=y=l.createElement("link");oe(R),Le(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function aT(t,n){Ni.X(t,n);var a=us;if(a&&t){var l=Qe(a).hoistableScripts,c=hs(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&vf(t,n),f=a.createElement("script"),oe(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function rT(t,n){Ni.M(t,n);var a=us;if(a&&t){var l=Qe(a).hoistableScripts,c=hs(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&vf(t,n),f=a.createElement("script"),oe(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Xp(t,n,a,l){var c=(c=pt.current)?Eu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=cs(a.href),a=Qe(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=cs(a.href);var f=Qe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Cl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||sT(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hs(a),a=Qe(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function cs(t){return'href="'+de(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function $p(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function sT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),oe(n),t.head.appendChild(n))}function hs(t){return'[src="'+de(t)+'"]'}function Il(t){return"script[async]"+t}function Zp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Le(l,"style",c),Tu(l,a.precedence,t),n.instance=l;case"stylesheet":c=cs(a.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=$p(a),(c=Dn.get(c))&&_f(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Le(f,"link",l),n.state.loading|=4,Tu(f,a.precedence,t),n.instance=f;case"script":return f=hs(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,oe(c),c):(l=a,(c=Dn.get(f))&&(l=A({},a),vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Tu(l,a.precedence,t));return n.instance}function Tu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Au=null;function Jp(t,n,a){if(Au===null){var l=new Map,c=Au=new Map;c.set(a,l)}else c=Au,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ua]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Wp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function lT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function oT(){}function uT(t,n,a){if(Vl===null)throw Error(s(475));var l=Vl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=cs(a.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Su.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,a=$p(a),(c=Dn.get(c))&&_f(a,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Le(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Su.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function cT(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&Ef(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Ef(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Su(){if(this.count--,this.count===0){if(this.stylesheets)Ef(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bu=null;function Ef(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bu=new Map,n.forEach(hT,t),bu=null,Su.call(t))}function hT(t,n){if(!(n.state.loading&4)){var a=bu.get(t);if(a)var l=a.get(null);else{a=new Map,bu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=Su.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function fT(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ey(t,n,a,l,c,f,y,E,R,P,G,Q){return t=new fT(t,n,a,y,E,R,P,Q),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ah(f),t}function ny(t){return t?(t=jr,t):jr}function iy(t,n,a,l,c,f){c=ny(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Yi(t,l,n),a!==null&&(fn(a,t,n),ll(a,t,n))}function ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Tf(t,n){ay(t,n),(t=t.alternate)&&ay(t,n)}function ry(t){if(t.tag===13){var n=qr(t,67108864);n!==null&&fn(n,t,67108864),Tf(t,67108864)}}var Ru=!0;function dT(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,Af(t,n,a,l)}finally{tt.p=f,H.T=c}}function mT(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,Af(t,n,a,l)}finally{tt.p=f,H.T=c}}function Af(t,n,a,l){if(Ru){var c=Sf(l);if(c===null)uf(t,n,l,wu,a),ly(t,l);else if(pT(c,t,n,a,l))l.stopPropagation();else if(ly(t,l),n&4&&-1<gT.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-ke(y);E.entanglements[1]|=R,y&=~R}Jn(f),(Ht&6)===0&&(uu=gn()+500,bl(0))}}break;case 13:E=qr(f,2),E!==null&&fn(E,f,2),hu(),Tf(f,2)}if(f=Sf(l),f===null&&uf(t,n,l,wu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else uf(t,n,l,null,a)}}function Sf(t){return t=_n(t),bf(t)}var wu=null;function bf(t){if(wu=null,t=ui(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wu=t,null}function sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wc()){case Is:return 2;case Er:return 8;case Va:case Dc:return 32;case Tr:return 268435456;default:return 32}default:return 32}}var Rf=!1,sa=null,la=null,oa=null,Ol=new Map,Ml=new Map,ua=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(t,n){switch(t){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function xl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function pT(t,n,a,l,c){switch(n){case"focusin":return sa=xl(sa,t,n,a,l,c),!0;case"dragenter":return la=xl(la,t,n,a,l,c),!0;case"mouseover":return oa=xl(oa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,xl(Ol.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,xl(Ml.get(f)||null,t,n,a,l,c)),!0}return!1}function oy(t){var n=ui(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,co(t.priority,function(){if(a.tag===13){var l=hn();l=zi(l);var c=qr(a,l);c!==null&&fn(c,a,l),Tf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);di=l,a.target.dispatchEvent(l),di=null}else return n=Pn(a),n!==null&&ry(n),t.blockedOn=a,!1;n.shift()}return!0}function uy(t,n,a){Du(t)&&a.delete(n)}function yT(){Rf=!1,sa!==null&&Du(sa)&&(sa=null),la!==null&&Du(la)&&(la=null),oa!==null&&Du(oa)&&(oa=null),Ol.forEach(uy),Ml.forEach(uy)}function Cu(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yT)))}var Iu=null;function cy(t){Iu!==t&&(Iu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Iu===t&&(Iu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bf(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(n,3),n-=3,Sh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ul(t){function n(R){return Cu(R,t)}sa!==null&&Cu(sa,t),la!==null&&Cu(la,t),oa!==null&&Cu(oa,t),Ol.forEach(n),Ml.forEach(n);for(var a=0;a<ua.length;a++){var l=ua[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ua.length&&(a=ua[0],a.blockedOn===null);)oy(a),a.blockedOn===null&&ua.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[fe]||null;if(typeof f=="function")y||cy(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(bf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),cy(a)}}}function wf(t){this._internalRoot=t}Vu.prototype.render=wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=hn();iy(a,l,t,n,null,null)},Vu.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iy(t.current,2,null,t,null,null),hu(),n[pn]=null}};function Vu(t){this._internalRoot=t}Vu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ua.length&&n!==0&&n<ua[a].priority;a++);ua.splice(a,0,t),a===0&&oy(t)}};var hy=e.version;if(hy!=="19.1.0")throw Error(s(527,hy,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var _T={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{re=Nu.inject(_T),jt=Nu}catch{}}return zl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Dg,f=Cg,y=Ig,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ey(t,1,!1,null,null,a,l,c,f,y,E,null),t[pn]=n.current,of(t),new wf(n)},zl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Dg,y=Cg,E=Ig,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=ey(t,1,!0,n,a??null,l,c,f,y,E,R,P),n.context=ny(null),a=n.current,l=hn(),l=zi(l),c=Qi(l),c.callback=null,Yi(a,c,l),a=l,n.current.lanes=a,oi(n,a),Jn(n),t[pn]=n.current,of(t),new Vu(n)},zl.version="19.1.0",zl}var Ty;function CT(){if(Ty)return Cf.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cf.exports=DT(),Cf.exports}var IT=CT(),We=gd();const VT=()=>{};var Ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},NT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},j_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,A=h>>2,N=(h&3)<<4|g>>4;let z=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(z=64)),s.push(i[A],i[N],i[z],i[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(q_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):NT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const N=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||v==null||N==null)throw new OT;const z=h<<2|g>>4;if(s.push(z),v!==64){const j=g<<4&240|v>>2;if(s.push(j),N!==64){const J=v<<6&192|N;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class OT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MT=function(r){const e=q_(r);return j_.encodeByteArray(e,!0)},Gu=function(r){return MT(r).replace(/\./g,"")},xT=function(r){try{return j_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=()=>UT().__FIREBASE_DEFAULTS__,zT=()=>{if(typeof process>"u"||typeof Ay>"u")return;const r=Ay.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},PT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&xT(r[1]);return e&&JSON.parse(e)},pd=()=>{try{return VT()||LT()||zT()||PT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},BT=r=>{var e,i;return(i=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},kT=r=>{const e=BT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},H_=()=>{var r;return(r=pd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Gu(JSON.stringify(i)),Gu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GT(){var r;const e=(r=pd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QT(){return!GT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G_(){try{return typeof indexedDB=="object"}catch{return!1}}function F_(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function YT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="FirebaseError";class ba extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=KT,Object.setPrototypeOf(this,ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?XT(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ba(o,g,s)}}function XT(r,e){return r.replace($T,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $T=/\{\$([^}]+)}/g;function Yl(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Sy(h)&&Sy(d)){if(!Yl(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Sy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=1e3,JT=2,WT=4*60*60*1e3,tA=.5;function by(r,e=ZT,i=JT){const s=e*Math.pow(i,r),o=Math.round(tA*s*(Math.random()-.5)*2);return Math.min(WT,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r){return r&&r._delegate?r._delegate:r}class Oi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new qT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iA(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(r){return r===cr?void 0:r}function iA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const rA={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},sA=Ut.INFO,lA={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},oA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=lA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yd{constructor(e){this.name=e,this._logLevel=sA,this._logHandler=oA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const uA=(r,e)=>e.some(i=>r instanceof i);let Ry,wy;function cA(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,Ff=new WeakMap,Y_=new WeakMap,Mf=new WeakMap,_d=new WeakMap;function fA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(fa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Q_.set(i,r)}).catch(()=>{}),_d.set(e,r),e}function dA(r){if(Ff.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Ff.set(r,e)}let Qf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Ff.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Y_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mA(r){Qf=r(Qf)}function gA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(xf(this),e,...i);return Y_.set(s,e.sort?e.sort():[e]),fa(s)}:hA().includes(r)?function(...e){return r.apply(xf(this),e),fa(Q_.get(this))}:function(...e){return fa(r.apply(xf(this),e))}}function pA(r){return typeof r=="function"?gA(r):(r instanceof IDBTransaction&&dA(r),uA(r,cA())?new Proxy(r,Qf):r)}function fa(r){if(r instanceof IDBRequest)return fA(r);if(Mf.has(r))return Mf.get(r);const e=pA(r);return e!==r&&(Mf.set(r,e),_d.set(e,r)),e}const xf=r=>_d.get(r);function K_(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=fa(d);return s&&d.addEventListener("upgradeneeded",_=>{s(fa(d.result),_.oldVersion,_.newVersion,fa(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const yA=["get","getKey","getAll","getAllKeys","count"],_A=["put","add","delete","clear"],Uf=new Map;function Dy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=_A.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yA.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Uf.set(e,h),h}mA(r=>({...r,get:(e,i,s)=>Dy(e,i)||r.get(e,i,s),has:(e,i)=>!!Dy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(EA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function EA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yf="@firebase/app",Cy="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new yd("@firebase/app"),TA="@firebase/app-compat",AA="@firebase/analytics-compat",SA="@firebase/analytics",bA="@firebase/app-check-compat",RA="@firebase/app-check",wA="@firebase/auth",DA="@firebase/auth-compat",CA="@firebase/database",IA="@firebase/data-connect",VA="@firebase/database-compat",NA="@firebase/functions",OA="@firebase/functions-compat",MA="@firebase/installations",xA="@firebase/installations-compat",UA="@firebase/messaging",LA="@firebase/messaging-compat",zA="@firebase/performance",PA="@firebase/performance-compat",BA="@firebase/remote-config",kA="@firebase/remote-config-compat",qA="@firebase/storage",jA="@firebase/storage-compat",HA="@firebase/firestore",GA="@firebase/vertexai",FA="@firebase/firestore-compat",QA="firebase",YA="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",KA={[Yf]:"fire-core",[TA]:"fire-core-compat",[SA]:"fire-analytics",[AA]:"fire-analytics-compat",[RA]:"fire-app-check",[bA]:"fire-app-check-compat",[wA]:"fire-auth",[DA]:"fire-auth-compat",[CA]:"fire-rtdb",[IA]:"fire-data-connect",[VA]:"fire-rtdb-compat",[NA]:"fire-fn",[OA]:"fire-fn-compat",[MA]:"fire-iid",[xA]:"fire-iid-compat",[UA]:"fire-fcm",[LA]:"fire-fcm-compat",[zA]:"fire-perf",[PA]:"fire-perf-compat",[BA]:"fire-rc",[kA]:"fire-rc-compat",[qA]:"fire-gcs",[jA]:"fire-gcs-compat",[HA]:"fire-fst",[FA]:"fire-fst-compat",[GA]:"fire-vertex","fire-js":"fire-js",[QA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,XA=new Map,Xf=new Map;function Iy(r,e){try{r.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ya(r){const e=r.name;if(Xf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,r);for(const i of Fu.values())Iy(i,r);for(const i of XA.values())Iy(i,r);return!0}function eo(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function $A(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},da=new sc("app","Firebase",ZA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=YA;function X_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Kf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw da.create("bad-app-name",{appName:String(o)});if(i||(i=H_()),!i)throw da.create("no-options");const h=Fu.get(o);if(h){if(Yl(i,h.options)&&Yl(s,h.config))return h;throw da.create("duplicate-app",{appName:o})}const d=new aA(o);for(const _ of Xf.values())d.addComponent(_);const g=new JA(i,s,d);return Fu.set(o,g),g}function $_(r=Kf){const e=Fu.get(r);if(!e&&r===Kf&&H_())return X_();if(!e)throw da.create("no-app",{appName:r});return e}function ti(r,e,i){var s;let o=(s=KA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}ya(new Oi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebase-heartbeat-database",eS=1,Kl="firebase-heartbeat-store";let Lf=null;function Z_(){return Lf||(Lf=K_(tS,eS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw da.create("idb-open",{originalErrorMessage:r.message})})),Lf}async function nS(r){try{const i=(await Z_()).transaction(Kl),s=await i.objectStore(Kl).get(J_(r));return await i.done,s}catch(e){if(e instanceof ba)Mi.warn(e.message);else{const i=da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function Vy(r,e){try{const s=(await Z_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,J_(r)),await s.done}catch(i){if(i instanceof ba)Mi.warn(i.message);else{const s=da.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(s.message)}}}function J_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=1024,aS=30;class rS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new lS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ny();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>aS){const d=oS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ny(),{heartbeatsToSend:s,unsentEntries:o}=sS(this._heartbeatsCache.heartbeats),h=Gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function sS(r,e=iS){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Oy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Oy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class lS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G_()?F_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Oy(r){return Gu(JSON.stringify({version:2,heartbeats:r})).length}function oS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r){ya(new Oi("platform-logger",e=>new vA(e),"PRIVATE")),ya(new Oi("heartbeat",e=>new rS(e),"PRIVATE")),ti(Yf,Cy,r),ti(Yf,Cy,"esm2017"),ti("fire-js","")}uS("");var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,W_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function D(){}D.prototype=S.prototype,O.D=S.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(b,V,M){for(var w=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)w[Xt-2]=arguments[Xt];return S.prototype[V].apply(b,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,D){D||(D=0);var b=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)b[V]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(V=0;16>V;++V)b[V]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=O.g[0],D=O.g[1],V=O.g[2];var M=O.g[3],w=S+(M^D&(V^M))+b[0]+3614090360&4294967295;S=D+(w<<7&4294967295|w>>>25),w=M+(V^S&(D^V))+b[1]+3905402710&4294967295,M=S+(w<<12&4294967295|w>>>20),w=V+(D^M&(S^D))+b[2]+606105819&4294967295,V=M+(w<<17&4294967295|w>>>15),w=D+(S^V&(M^S))+b[3]+3250441966&4294967295,D=V+(w<<22&4294967295|w>>>10),w=S+(M^D&(V^M))+b[4]+4118548399&4294967295,S=D+(w<<7&4294967295|w>>>25),w=M+(V^S&(D^V))+b[5]+1200080426&4294967295,M=S+(w<<12&4294967295|w>>>20),w=V+(D^M&(S^D))+b[6]+2821735955&4294967295,V=M+(w<<17&4294967295|w>>>15),w=D+(S^V&(M^S))+b[7]+4249261313&4294967295,D=V+(w<<22&4294967295|w>>>10),w=S+(M^D&(V^M))+b[8]+1770035416&4294967295,S=D+(w<<7&4294967295|w>>>25),w=M+(V^S&(D^V))+b[9]+2336552879&4294967295,M=S+(w<<12&4294967295|w>>>20),w=V+(D^M&(S^D))+b[10]+4294925233&4294967295,V=M+(w<<17&4294967295|w>>>15),w=D+(S^V&(M^S))+b[11]+2304563134&4294967295,D=V+(w<<22&4294967295|w>>>10),w=S+(M^D&(V^M))+b[12]+1804603682&4294967295,S=D+(w<<7&4294967295|w>>>25),w=M+(V^S&(D^V))+b[13]+4254626195&4294967295,M=S+(w<<12&4294967295|w>>>20),w=V+(D^M&(S^D))+b[14]+2792965006&4294967295,V=M+(w<<17&4294967295|w>>>15),w=D+(S^V&(M^S))+b[15]+1236535329&4294967295,D=V+(w<<22&4294967295|w>>>10),w=S+(V^M&(D^V))+b[1]+4129170786&4294967295,S=D+(w<<5&4294967295|w>>>27),w=M+(D^V&(S^D))+b[6]+3225465664&4294967295,M=S+(w<<9&4294967295|w>>>23),w=V+(S^D&(M^S))+b[11]+643717713&4294967295,V=M+(w<<14&4294967295|w>>>18),w=D+(M^S&(V^M))+b[0]+3921069994&4294967295,D=V+(w<<20&4294967295|w>>>12),w=S+(V^M&(D^V))+b[5]+3593408605&4294967295,S=D+(w<<5&4294967295|w>>>27),w=M+(D^V&(S^D))+b[10]+38016083&4294967295,M=S+(w<<9&4294967295|w>>>23),w=V+(S^D&(M^S))+b[15]+3634488961&4294967295,V=M+(w<<14&4294967295|w>>>18),w=D+(M^S&(V^M))+b[4]+3889429448&4294967295,D=V+(w<<20&4294967295|w>>>12),w=S+(V^M&(D^V))+b[9]+568446438&4294967295,S=D+(w<<5&4294967295|w>>>27),w=M+(D^V&(S^D))+b[14]+3275163606&4294967295,M=S+(w<<9&4294967295|w>>>23),w=V+(S^D&(M^S))+b[3]+4107603335&4294967295,V=M+(w<<14&4294967295|w>>>18),w=D+(M^S&(V^M))+b[8]+1163531501&4294967295,D=V+(w<<20&4294967295|w>>>12),w=S+(V^M&(D^V))+b[13]+2850285829&4294967295,S=D+(w<<5&4294967295|w>>>27),w=M+(D^V&(S^D))+b[2]+4243563512&4294967295,M=S+(w<<9&4294967295|w>>>23),w=V+(S^D&(M^S))+b[7]+1735328473&4294967295,V=M+(w<<14&4294967295|w>>>18),w=D+(M^S&(V^M))+b[12]+2368359562&4294967295,D=V+(w<<20&4294967295|w>>>12),w=S+(D^V^M)+b[5]+4294588738&4294967295,S=D+(w<<4&4294967295|w>>>28),w=M+(S^D^V)+b[8]+2272392833&4294967295,M=S+(w<<11&4294967295|w>>>21),w=V+(M^S^D)+b[11]+1839030562&4294967295,V=M+(w<<16&4294967295|w>>>16),w=D+(V^M^S)+b[14]+4259657740&4294967295,D=V+(w<<23&4294967295|w>>>9),w=S+(D^V^M)+b[1]+2763975236&4294967295,S=D+(w<<4&4294967295|w>>>28),w=M+(S^D^V)+b[4]+1272893353&4294967295,M=S+(w<<11&4294967295|w>>>21),w=V+(M^S^D)+b[7]+4139469664&4294967295,V=M+(w<<16&4294967295|w>>>16),w=D+(V^M^S)+b[10]+3200236656&4294967295,D=V+(w<<23&4294967295|w>>>9),w=S+(D^V^M)+b[13]+681279174&4294967295,S=D+(w<<4&4294967295|w>>>28),w=M+(S^D^V)+b[0]+3936430074&4294967295,M=S+(w<<11&4294967295|w>>>21),w=V+(M^S^D)+b[3]+3572445317&4294967295,V=M+(w<<16&4294967295|w>>>16),w=D+(V^M^S)+b[6]+76029189&4294967295,D=V+(w<<23&4294967295|w>>>9),w=S+(D^V^M)+b[9]+3654602809&4294967295,S=D+(w<<4&4294967295|w>>>28),w=M+(S^D^V)+b[12]+3873151461&4294967295,M=S+(w<<11&4294967295|w>>>21),w=V+(M^S^D)+b[15]+530742520&4294967295,V=M+(w<<16&4294967295|w>>>16),w=D+(V^M^S)+b[2]+3299628645&4294967295,D=V+(w<<23&4294967295|w>>>9),w=S+(V^(D|~M))+b[0]+4096336452&4294967295,S=D+(w<<6&4294967295|w>>>26),w=M+(D^(S|~V))+b[7]+1126891415&4294967295,M=S+(w<<10&4294967295|w>>>22),w=V+(S^(M|~D))+b[14]+2878612391&4294967295,V=M+(w<<15&4294967295|w>>>17),w=D+(M^(V|~S))+b[5]+4237533241&4294967295,D=V+(w<<21&4294967295|w>>>11),w=S+(V^(D|~M))+b[12]+1700485571&4294967295,S=D+(w<<6&4294967295|w>>>26),w=M+(D^(S|~V))+b[3]+2399980690&4294967295,M=S+(w<<10&4294967295|w>>>22),w=V+(S^(M|~D))+b[10]+4293915773&4294967295,V=M+(w<<15&4294967295|w>>>17),w=D+(M^(V|~S))+b[1]+2240044497&4294967295,D=V+(w<<21&4294967295|w>>>11),w=S+(V^(D|~M))+b[8]+1873313359&4294967295,S=D+(w<<6&4294967295|w>>>26),w=M+(D^(S|~V))+b[15]+4264355552&4294967295,M=S+(w<<10&4294967295|w>>>22),w=V+(S^(M|~D))+b[6]+2734768916&4294967295,V=M+(w<<15&4294967295|w>>>17),w=D+(M^(V|~S))+b[13]+1309151649&4294967295,D=V+(w<<21&4294967295|w>>>11),w=S+(V^(D|~M))+b[4]+4149444226&4294967295,S=D+(w<<6&4294967295|w>>>26),w=M+(D^(S|~V))+b[11]+3174756917&4294967295,M=S+(w<<10&4294967295|w>>>22),w=V+(S^(M|~D))+b[2]+718787259&4294967295,V=M+(w<<15&4294967295|w>>>17),w=D+(M^(V|~S))+b[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+M&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var D=S-this.blockSize,b=this.B,V=this.h,M=0;M<S;){if(V==0)for(;M<=D;)o(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<S;)if(b[V++]=O.charCodeAt(M++),V==this.blockSize){o(this,b),V=0;break}}else for(;M<S;)if(b[V++]=O[M++],V==this.blockSize){o(this,b),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var D=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=D&255,D/=256;for(this.u(O),O=Array(16),S=D=0;4>S;++S)for(var b=0;32>b;b+=8)O[D++]=this.g[S]>>>b&255;return O};function h(O,S){var D=g;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=S(O)}function d(O,S){this.h=S;for(var D=[],b=!0,V=O.length-1;0<=V;V--){var M=O[V]|0;b&&M==S||(D[V]=M,b=!1)}this.g=D}var g={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return N;if(0>O)return $(v(-O));for(var S=[],D=1,b=0;O>=D;b++)S[b]=O/D|0,D*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return $(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=v(Math.pow(S,8)),b=N,V=0;V<O.length;V+=8){var M=Math.min(8,O.length-V),w=parseInt(O.substring(V,V+M),S);8>M?(M=v(Math.pow(S,M)),b=b.j(M).add(v(w))):(b=b.j(D),b=b.add(v(w)))}return b}var N=_(0),z=_(1),j=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-$(this).m();for(var O=0,S=1,D=0;D<this.g.length;D++){var b=this.i(D);O+=(0<=b?b:4294967296+b)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(J(this))return"0";if(nt(this))return"-"+$(this).toString(O);for(var S=v(Math.pow(O,6)),D=this,b="";;){var V=Lt(D,S).g;D=Tt(D,V.j(S));var M=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=V,J(D))return M+b;for(;6>M.length;)M="0"+M;b=M+b}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function J(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function nt(O){return O.h==-1}r.l=function(O){return O=Tt(this,O),nt(O)?-1:J(O)?0:1};function $(O){for(var S=O.g.length,D=[],b=0;b<S;b++)D[b]=~O.g[b];return new d(D,~O.h).add(z)}r.abs=function(){return nt(this)?$(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),D=[],b=0,V=0;V<=S;V++){var M=b+(this.i(V)&65535)+(O.i(V)&65535),w=(M>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);b=w>>>16,M&=65535,w&=65535,D[V]=w<<16|M}return new d(D,D[D.length-1]&-2147483648?-1:0)};function Tt(O,S){return O.add($(S))}r.j=function(O){if(J(this)||J(O))return N;if(nt(this))return nt(O)?$(this).j($(O)):$($(this).j(O));if(nt(O))return $(this.j($(O)));if(0>this.l(j)&&0>O.l(j))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,D=[],b=0;b<2*S;b++)D[b]=0;for(b=0;b<this.g.length;b++)for(var V=0;V<O.g.length;V++){var M=this.i(b)>>>16,w=this.i(b)&65535,Xt=O.i(V)>>>16,ae=O.i(V)&65535;D[2*b+2*V]+=w*ae,Et(D,2*b+2*V),D[2*b+2*V+1]+=M*ae,Et(D,2*b+2*V+1),D[2*b+2*V+1]+=w*Xt,Et(D,2*b+2*V+1),D[2*b+2*V+2]+=M*Xt,Et(D,2*b+2*V+2)}for(b=0;b<S;b++)D[b]=D[2*b+1]<<16|D[2*b];for(b=S;b<2*S;b++)D[b]=0;return new d(D,0)};function Et(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function mt(O,S){this.g=O,this.h=S}function Lt(O,S){if(J(S))throw Error("division by zero");if(J(O))return new mt(N,N);if(nt(O))return S=Lt($(O),S),new mt($(S.g),$(S.h));if(nt(S))return S=Lt(O,$(S)),new mt($(S.g),S.h);if(30<O.g.length){if(nt(O)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var D=z,b=S;0>=b.l(O);)D=_t(D),b=_t(b);var V=It(D,1),M=It(b,1);for(b=It(b,2),D=It(D,2);!J(b);){var w=M.add(b);0>=w.l(O)&&(V=V.add(D),M=w),b=It(b,1),D=It(D,1)}return S=Tt(O,V.j(S)),new mt(V,S)}for(V=N;0<=O.l(S);){for(D=Math.max(1,Math.floor(O.m()/S.m())),b=Math.ceil(Math.log(D)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),M=v(D),w=M.j(S);nt(w)||0<w.l(O);)D-=b,M=v(D),w=M.j(S);J(M)&&(M=z),V=V.add(M),O=Tt(O,w)}return new mt(V,O)}r.A=function(O){return Lt(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),D=[],b=0;b<S;b++)D[b]=this.i(b)&O.i(b);return new d(D,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),D=[],b=0;b<S;b++)D[b]=this.i(b)|O.i(b);return new d(D,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),D=[],b=0;b<S;b++)D[b]=this.i(b)^O.i(b);return new d(D,this.h^O.h)};function _t(O){for(var S=O.g.length+1,D=[],b=0;b<S;b++)D[b]=O.i(b)<<1|O.i(b-1)>>>31;return new d(D,O.h)}function It(O,S){var D=S>>5;S%=32;for(var b=O.g.length-D,V=[],M=0;M<b;M++)V[M]=0<S?O.i(M+D)>>>S|O.i(M+D+1)<<32-S:O.i(M+D);return new d(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,W_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,ma=d}).apply(typeof My<"u"?My:typeof self<"u"?self:typeof window<"u"?window:{});var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tv,Bl,ev,Pu,$f,nv,iv,av;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ou=="object"&&Ou];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function N(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function z(u,m,p){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,z.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var W=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)W[Nt-2]=arguments[Nt];return m.prototype[U].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let W=0;W<q;W++)u[U+W]=T[W]}else u.push(T)}}class Tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Et(u){return/^[\s\xa0]*$/.test(u)}function mt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var _t=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function It(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let q=0;q<D.length;q++)p=D[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function V(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function M(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Xt{constructor(){this.h=this.g=null}add(m,p){const T=ae.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new Tt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Pt=new Xt,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(K)}};var K=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){M(p)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Rt(u,m){if(Z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Lt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}J(Rt,Z);var pt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Li(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,m,p,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=Ca(u,m,T,U);return-1<W?(m=u[W],p||(m.fa=!1)):(m=new Ln(m,this.src,q,!!T,U),m.fa=p,u.push(m)),m};function Da(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Li(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ca(u,m,p,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var Ia="closure_lm_"+(1e6*Math.random()|0),Cs={};function lo(u,m,p,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)lo(u,m[q],p,T,U);return null}return p=oo(p),u&&u[Re]?u.K(m,p,v(T)?!!T.capture:!1,U):gn(u,m,p,!1,T,U)}function gn(u,m,p,T,U,q){if(!m)throw Error("Invalid event type");var W=v(U)?!!U.capture:!!U,Nt=Tr(u);if(Nt||(u[Ia]=Nt=new si(u)),p=Nt.add(m,p,T,W,q),p.proxy)return p;if(T=wc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ut||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Va(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function wc(){function u(p){return m.call(u.src,u.listener,p)}const m=Dc;return u}function Is(u,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Is(u,m[q],p,T,U);else T=v(T)?!!T.capture:!!T,p=oo(p),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Ca(q,p,T,U),-1<p&&(Li(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ca(m,p,T,U)),(p=-1<u?m[u]:null)&&Er(p))}function Er(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Da(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Va(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Tr(m))?(Da(p,u),p.h==0&&(p.src=null,m[Ia]=null)):Li(u)}}}function Va(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function Dc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Er(u),u=p.call(T,m)}return u}function Tr(u){return u=u[Ia],u instanceof si?u:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function oo(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(m){return u.handleEvent(m)}),u[Vs])}function re(){et.call(this),this.i=new si(this),this.M=this,this.F=null}J(re,et),re.prototype[Re]=!0,re.prototype.removeEventListener=function(u,m,p,T){Is(this,u,m,p,T)};function jt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Z(m,u);else if(m instanceof Z)m.target=m.target||u;else{var U=m;m=new Z(T,u),b(m,U)}if(U=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];U=an(W,T,!0,m)&&U}if(W=m.g=u,U=an(W,T,!0,m)&&U,U=an(W,T,!1,m)&&U,p)for(q=0;q<p.length;q++)W=m.g=p[q],U=an(W,T,!1,m)&&U}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Li(p[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},re.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function an(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var Nt=W.listener,_e=W.ha||W.src;W.fa&&Da(u.i,W),U=Nt.call(_e,T)!==!1&&U}}return U&&!T.defaultPrevented}function ke(u,m,p){if(typeof u=="function")p&&(u=z(u,p));else if(u&&typeof u.handleEvent=="function")u=z(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function uo(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cc extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Na(u){et.call(this),this.h=u,this.g={}}J(Na,et);var Oa=[];function Ma(u){It(u.g,function(m,p){this.g.hasOwnProperty(p)&&Er(m)},u),u.g={}}Na.prototype.N=function(){Na.aa.N.call(this),Ma(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,Ar=g.JSON.parse,xa=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ns(){}Ns.prototype.h=null;function Os(u){return u.h||(u.h=u.i())}function Ms(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){Z.call(this,"d")}J(oi,Z);function xs(){Z.call(this,"c")}J(xs,Z);var zn={},Us=null;function zi(){return Us=Us||new re}zn.La="serverreachability";function Sr(u){Z.call(this,zn.La,u)}J(Sr,Z);function Pi(u){const m=zi();jt(m,new Sr(m))}zn.STAT_EVENT="statevent";function co(u,m){Z.call(this,zn.STAT_EVENT,u),this.stat=m}J(co,Z);function Wt(u){const m=zi();jt(m,new co(m,u))}zn.Ma="timingevent";function ye(u,m){Z.call(this,zn.Ma,u),this.size=m}J(ye,Z);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Ls(u,m,p,T,U,q){u.info(function(){if(u.g)if(q)for(var W="",Nt=q.split("&"),_e=0;_e<Nt.length;_e++){var Ot=Nt[_e].split("=");if(1<Ot.length){var De=Ot[0];Ot=Ot[1];var ve=De.split("_");W=2<=ve.length&&ve[1]=="type"?W+(De+"="+Ot+"&"):W+(De+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+W})}function Ic(u,m,p,T,U,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+W})}function Bi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ua(u,p)+(T?" "+T:"")})}function ho(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Ua(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return In(p)}catch{return m}}var ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Bn(){}J(Bn,Ns),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},Pn=new Bn;function Qe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var zs={},br={};function Vn(u,m,p){u.L=1,u.v=ka(rn(m)),u.m=p,u.P=!0,ci(u,null)}function ci(u,m){u.F=Date.now(),La(u),u.A=rn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Hs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=Co(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Cc(z(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Oa[0]=U.toString()),U=Oa);for(var q=0;q<U.length;q++){var W=lo(p,U[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pi(),Ls(u.i,u.u,u.A,u.l,u.R,u.m)}Qe.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Qe.prototype.Y=function(u){try{if(u==this.g)t:{const ve=En(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Eo(this.g)))){this.J||ve!=4||m==7||(m==8||0>=_i?Pi(3):Pi(2)),qi(this);var p=this.g.Z();this.X=p;e:if(fo(this)){var T=Eo(this.g);u="";var U=T.length,q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),kn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Ic(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,_e=this.g;if((Nt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(Nt)){var Ot=Nt;break e}}Ot=null}if(p=Ot)Bi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,za(this,p);else{this.o=!1,this.s=3,Wt(12),Oe(this),kn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=mo(this,W),Me==br){ve==4&&(this.s=4,Wt(14),p=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==zs){this.s=4,Wt(15),Bi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Bi(this.i,this.l,Me,null),za(this,Me);if(fo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)Bi(this.i,this.l,W,"[Invalid Chunked Response]"),Oe(this),kn(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Ka(De),De.M=!0,Wt(11))}}else Bi(this.i,this.l,W,null),za(this,W);ve==4&&Oe(this),this.o&&!this.J&&(ve==4?Ro(this.j,this):(this.o=!1,La(this)))}else xc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Oe(this),kn(this)}}}catch{}finally{}};function fo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?br:(p=Number(m.substring(p,T)),isNaN(p)?zs:(T+=1,T+p>m.length?br:(m=m.slice(T,T+p),u.C=T+p,m)))}Qe.prototype.cancel=function(){this.J=!0,Oe(this)};function La(u){u.S=Date.now()+u.I,go(u,u.I)}function go(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(z(u.ba,u),m)}function qi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ho(this.i,this.A),this.L!=2&&(Pi(),Wt(17)),Oe(this),this.s=2,kn(this)):go(this,this.S-u)};function kn(u){u.j.G==0||u.J||Ro(u.j,u)}function Oe(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ma(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function za(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ps(p.h,u))){if(!u.K&&Ps(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Lr(p),xr(p);else break t;Ks(p),Wt(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(z(p.Za,p),6e3));if(1>=wr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else yi(p,11)}else if((u.K||p.g==u)&&Lr(p),!Et(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Ot=U[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const De=Ot[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const ve=Ot[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const _i=Ot[5];_i!=null&&typeof _i=="number"&&0<_i&&(T=1.5*_i,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=u.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var q=T.h;q.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Dr(q,q.h),q.h=null))}if(T.D){const $s=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(T.ya=$s,Ft(T.I,T.D,$s))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=u;if(T.qa=Do(T,T.J?T.ia:null,T.W),W.K){Ye(T.h,W);var Nt=W,_e=T.L;_e&&(Nt.I=_e),Nt.B&&(qi(Nt),La(Nt)),T.g=W}else So(T);0<p.i.length&&Ur(p)}else Ot[0]!="stop"&&Ot[0]!="close"||yi(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?yi(p,7):Qs(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}Pi(4)}catch{}}var po=class{constructor(u,m){this.g=u,this.map=m}};function hi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wr(u){return u.h?1:u.g?u.g.size:0}function Ps(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dr(u,m){u.g?u.g.add(m):u.h=m}function Ye(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}hi.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return nt(u.i)}function Vc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Cr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function ks(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Cr(u),T=Vc(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],p&&p[q],u)}var Pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var q=u[p].substring(0,T);U=u[p].substring(T+1)}else q=u[p];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Ba(this,u.j),this.o=u.o,this.g=u.g,ji(this,u.s),this.l=u.l;var m=u.i,p=new di;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),fi(this,p),this.m=u.m}else u&&(m=String(u).match(Pa))?(this.h=!1,Ba(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),ji(this,m[4]),this.l=yn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new di(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qa(m,qs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qa(m,qs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(qa(p,p.charAt(0)=="/"?Oc:js,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",qa(p,Ir)),u.join("")};function rn(u){return new de(u)}function Ba(u,m,p){u.j=p?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ji(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fi(u,m,p){m instanceof di?(u.i=m,_o(u.i,u.h)):(p||(m=qa(m,Mc)),u.i=new di(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function ka(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,yo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,js=/[#\?:]/g,Oc=/[#\?]/g,Mc=/[#\?@]/g,Ir=/#/g;function di(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Nc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=di.prototype,r.add=function(u,m){_n(this),this.i=null,u=qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function mi(u,m){_n(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gi(u,m){return _n(u),m=qn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)p.push(m[T])}return p},r.V=function(u){_n(this);let m=[];if(typeof u=="string")gi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return _n(this),this.i=null,u=qn(this,u),gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Hs(u,m,p){mi(u,m),0<p.length&&(u.i=null,u.g.set(qn(u,m),nt(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=q;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),u.push(U)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _o(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(mi(this,T),Hs(this,U,p))},u)),u.j=m}function ja(u,m){const p=new pn;if(g.Image){const T=new Image;T.onload=j(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const p=new pn,T=new AbortController,U=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),vn(p,"TestPingServer: error",!1,m)})}function vn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Ha(){this.g=new xa}function jn(u,m,p){const T=p||"";try{ks(u,function(U,q){let W=U;v(U)&&(W=In(U)),m.push(T+q+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Hi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Hi,Ns),Hi.prototype.g=function(){return new pi(this.l,this.j)},Hi.prototype.i=function(u){return function(){return u}}({});function pi(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(pi,re),r=pi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&Gs(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},r.Qa=function(u){this.g&&(this.response=u,Hn(this))},r.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fs(u){let m="";return It(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Fs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function kt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(kt,re);var Vr=/^https?$/i,Ga=["POST","PUT"];r=kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Os(this.o):Os(Pn),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){vo(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ga,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){vo(this,q)}};function vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Nr(u),Fn(u)}function Nr(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Or(this):this.bb())},r.bb=function(){Or(this)};function Or(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)ke(u.Ea,0,u);else if(jt(u,"readystatechange"),En(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var U=String(u.D).match(Pa)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Vr.test(U?U.toLowerCase():"")}p=T}if(p)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<En(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Nr(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Fa(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Fa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ar(m)}};function Eo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Et(u[T]))continue;var p=V(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Mr(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,u),this.cb=Qa("retryDelaySeedMs",1e4,u),this.Wa=Qa("forwardChannelMaxRetries",2,u),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(u&&u.concurrentRequestLimit),this.Da=new Ha,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Mr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Do(this,null,this.W),Ur(this)};function Qs(u){if(To(u),u.G==3){var m=u.U++,p=rn(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Ya(u,p),m=new Qe(u,u.j,m),m.L=2,m.v=ka(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Co(m.j,null),m.g.ea(m.v)),m.F=Date.now(),La(m)}wo(u)}function xr(u){u.g&&(Ka(u),u.g.cancel(),u.g=null)}function To(u){xr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Lr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ur(u){if(!Rr(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),lt||(tt(),lt=!0),Pt.add(m,u),u.B=0}}function Uc(u,m){return wr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(z(u.Ga,u,m),Xs(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Qe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),b(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ao(this,U,m),p=rn(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Ya(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Fs(q)))+"&"+m:this.m&&we(p,this.m,q)),Dr(this.h,U),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),U.T=!0,Vn(U,p,null)):Vn(U,p,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||Rr(this.h)||Ys(this))};function Ys(u,m){var p;m?p=m.l:p=u.U++;const T=rn(u.I);Ft(T,"SID",u.K),Ft(T,"RID",p),Ft(T,"AID",u.T),Ya(u,T),u.m&&u.o&&we(T,u.m,u.o),p=new Qe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ao(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Dr(u.h,p),Vn(p,T,m)}function Ya(u,m){u.H&&It(u.H,function(p,T){Ft(m,T,p)}),u.l&&ks({},function(p,T){Ft(m,T,p)})}function Ao(u,m,p){p=Math.min(u.i.length,p);var T=u.l?z(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=U[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Nt=!0;for(let _e=0;_e<p;_e++){let Ot=U[_e].g;const De=U[_e].map;if(Ot-=q,0>Ot)q=Math.max(0,U[_e].g-100),Nt=!1;else try{jn(De,W,"req"+Ot+"_")}catch{T&&T(De)}}if(Nt){T=W.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function So(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),lt||(tt(),lt=!0),Pt.add(m,u),u.v=0}}function Ks(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(z(u.Fa,u),Xs(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,bo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(z(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),xr(this),bo(this))};function Ka(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function bo(u){u.g=new Qe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Ya(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=ka(rn(m)),p.m=null,p.P=!0,ci(p,u)}r.Za=function(){this.C!=null&&(this.C=null,xr(this),Ks(this),Wt(19))};function Lr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Ro(u,m){var p=null;if(u.g==m){Lr(u),Ka(u),u.g=null;var T=2}else if(Ps(u.h,m))p=m.D,Ye(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=zi(),jt(T,new ye(T,p)),Ur(u)}else So(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Uc(u,m)||T==2&&Ks(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Xs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var p=z(u.fb,u),T=u.Xa;const U=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ba(T,"https"),ka(T),U?ja(T.toString(),p):Nn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),wo(u),To(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function wo(u){if(u.G=0,u.ka=[],u.l){const m=Bs(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function Do(u,m,p){var T=p instanceof de?rn(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),ji(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new de(null);T&&Ba(q,T),m&&(q.g=m),U&&ji(q,U),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",u.la),Ya(u,T),T}function Co(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Hi({eb:p})):new kt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}r=Io.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function zr(){}zr.prototype.g=function(u,m){return new Ke(u,m)};function Ke(u,m){re.call(this),this.g=new Mr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Et(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Et(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}J(Ke,re),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Qs(this.g)},Ke.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=In(u),u=p);m.i.push(new po(m.Ya++,u)),m.G==3&&Ur(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,Ke.aa.N.call(this)};function Vo(u){oi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(Vo,oi);function No(){xs.call(this),this.status=1}J(No,xs);function Qn(u){this.g=u}J(Qn,Io),Qn.prototype.ua=function(){jt(this.g,"a")},Qn.prototype.ta=function(u){jt(this.g,new Vo(u))},Qn.prototype.sa=function(u){jt(this.g,new No)},Qn.prototype.ra=function(){jt(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,av=function(){return new zr},iv=function(){return zi()},nv=zn,$f={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,Pu=ki,ui.COMPLETE="complete",ev=ui,Ms.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",re.prototype.listen=re.prototype.K,Bl=Ms,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,tv=kt}).apply(typeof Ou<"u"?Ou:typeof self<"u"?self:typeof window<"u"?window:{});const xy="@firebase/firestore",Uy="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new yd("@firebase/firestore");function fs(){return dr.logLevel}function it(r,...e){if(dr.logLevel<=Ut.DEBUG){const i=e.map(vd);dr.debug(`Firestore (${bs}): ${r}`,...i)}}function xi(r,...e){if(dr.logLevel<=Ut.ERROR){const i=e.map(vd);dr.error(`Firestore (${bs}): ${r}`,...i)}}function ys(r,...e){if(dr.logLevel<=Ut.WARN){const i=e.map(vd);dr.warn(`Firestore (${bs}): ${r}`,...i)}}function vd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,rv(r,s,i)}function rv(r,e,i){let s=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw xi(s),new Error(s)}function qt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||rv(e,o,s)}function vt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ba{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class hS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class fS{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ga,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ga)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new sv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class dS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new dS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ly{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$A(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ly(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ly(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pS(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function bt(r,e){return r<e?-1:r>e?1:0}function Zf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return bt(s,o);{const h=lv(),d=yS(h.encode(zy(r,i)),h.encode(zy(e,i)));return d!==0?d:bt(s,o)}}i+=s>65535?2:1}return bt(r.length,e.length)}function zy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function yS(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return bt(r[i],e[i]);return bt(r.length,e.length)}function _s(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=-62135596800,By=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*By);return new Se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Py)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/By}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Py;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Se(0,0))}static max(){return new yt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&dt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Wn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),o=Wn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class ee extends Wn{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const _S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Wn{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return _S.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new Pe([ky])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(ee.fromString(e))}static fromName(e){return new ct(ee.fromString(e).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function vS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new _a(o,ct.empty(),e)}function ES(r){return new _a(r.readTime,r.key,Xl)}class _a{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new _a(yt.min(),ct.empty(),Xl)}static max(){return new _a(yt.max(),ct.empty(),Xl)}}function TS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,e.documentKey),i!==0?i:bt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==AS)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,s)=>{i(e)})}static reject(e){return new Y((i,s)=>{s(e)})}static waitFor(e){return new Y((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next(o=>o?Y.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new Y((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new Y((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function bS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function oc(r){return r==null}function Qu(r){return r===0&&1/r==-1/0}function RS(r){return typeof r=="number"&&Number.isInteger(r)&&!Qu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="";function wS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=qy(e)),e=DS(r.get(i),e);return qy(e)}function DS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case uv:i+="";break;default:i+=h}}return i}function qy(r){return r+uv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ra(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function cv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(e){return new Hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new dn([])}unionWith(e){let i=new be(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new hv("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const CS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(r){if(qt(!!r,39018),typeof r=="string"){let e=0;const i=CS.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ea(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="server_timestamp",dv="__type__",mv="__previous_value__",gv="__local_write_time__";function Td(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[dv])===null||i===void 0?void 0:i.stringValue)===fv}function uc(r){const e=r.mapValue.fields[mv];return Td(e)?uc(e):e}function $l(r){const e=va(r.mapValue.fields[gv].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i,s,o,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Yu="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||Yu}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Yu}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="__type__",VS="__max__",xu={mapValue:{}},yv="__vector__",Ku="value";function Ta(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Td(r)?4:OS(r)?9007199254740991:NS(r)?10:11:dt(28295,{value:r})}function ai(r,e){if(r===e)return!0;const i=Ta(r);if(i!==Ta(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=va(o.timestampValue),g=va(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return Ea(o.bytesValue).isEqual(Ea(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?Qu(d)===Qu(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return _s(r.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(jy(d)!==jy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ai(d[_],g[_])))return!1;return!0}(r,e);default:return dt(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find(i=>ai(i,e))!==void 0}function vs(r,e){if(r===e)return 0;const i=Ta(r),s=Ta(e);if(i!==s)return bt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),_=he(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,e);case 3:return Gy(r.timestampValue,e.timestampValue);case 4:return Gy($l(r),$l(e));case 5:return Zf(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Ea(h),_=Ea(d);return g.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=bt(g[v],_[v]);if(A!==0)return A}return bt(g.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=bt(he(h.latitude),he(d.latitude));return g!==0?g:bt(he(h.longitude),he(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Fy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const N=h.fields||{},z=d.fields||{},j=(g=N[Ku])===null||g===void 0?void 0:g.arrayValue,J=(_=z[Ku])===null||_===void 0?void 0:_.arrayValue,nt=bt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((A=J==null?void 0:J.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Fy(j,J)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===xu.mapValue&&d===xu.mapValue)return 0;if(h===xu.mapValue)return 1;if(d===xu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let N=0;N<_.length&&N<A.length;++N){const z=Zf(_[N],A[N]);if(z!==0)return z;const j=vs(g[_[N]],v[A[N]]);if(j!==0)return j}return bt(_.length,A.length)}(r.mapValue,e.mapValue);default:throw dt(23264,{Pe:i})}}function Gy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return bt(r,e);const i=va(r),s=va(e),o=bt(i.seconds,s.seconds);return o!==0?o:bt(i.nanos,s.nanos)}function Fy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=vs(i[o],s[o]);if(h)return h}return bt(i.length,s.length)}function Es(r){return Jf(r)}function Jf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=va(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Ea(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ct.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Jf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Jf(i.fields[d])}`;return o+"}"}(r.mapValue):dt(61005,{value:r})}function Bu(r){switch(Ta(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uc(r);return e?16+Bu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ea(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Bu(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ra(s.fields,(h,d)=>{o+=h.length+Bu(d)}),o}(r.mapValue);default:throw dt(13486,{value:r})}}function Wf(r){return!!r&&"integerValue"in r}function Ad(r){return!!r&&"arrayValue"in r}function Qy(r){return!!r&&"nullValue"in r}function Yy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ku(r){return!!r&&"mapValue"in r}function NS(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[pv])===null||i===void 0?void 0:i.stringValue)===yv}function jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ra(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=jl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function OS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===VS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ku(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=Pe.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=jl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());ku(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ra(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new en(jl(this.value))}}function _v(r){const e=[];return Ra(r.fields,(i,s)=>{const o=new Pe([i]);if(ku(s)){const h=_v(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,yt.min(),yt.min(),yt.min(),en.empty(),0)}static newFoundDocument(e,i,s,o){return new Fe(e,1,i,yt.min(),s,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,yt.min(),yt.min(),en.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,yt.min(),yt.min(),en.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i){this.position=e,this.inclusive=i}}function Ky(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=vs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i="asc"){this.field=e,this.dir=i}}function MS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class Ae extends vv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new US(e,i,s):i==="array-contains"?new PS(e,s):i==="in"?new BS(e,s):i==="not-in"?new kS(e,s):i==="array-contains-any"?new qS(e,s):new Ae(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new LS(e,s):new zS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vs(i,this.value)):i!==null&&Ta(this.value)===Ta(i)&&this.matchesComparison(vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends vv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ri(e,i)}matches(e){return Ev(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ev(r){return r.op==="and"}function Tv(r){return xS(r)&&Ev(r)}function xS(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function td(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+Es(r.value);if(Tv(r))return r.filters.map(e=>td(e)).join(",");{const e=r.filters.map(i=>td(i)).join(",");return`${r.op}(${e})`}}function Av(r,e){return r instanceof Ae?function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)}(r,e):r instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Av(d,o.filters[g]),!0):!1}(r,e):void dt(19439)}function Sv(r){return r instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${Es(i.value)}`}(r):r instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(Sv).join(" ,")+"}"}(r):"Filter"}class US extends Ae{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class LS extends Ae{constructor(e,i){super(e,"in",i),this.keys=bv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class zS extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=bv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function bv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ct.fromName(s.referenceValue))}class PS extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&Jl(i.arrayValue,this.value)}}class BS extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class kS extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class qS extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function $y(r,e=null,i=[],s=[],o=null,h=null,d=null){return new jS(r,e,i,s,o,h,d)}function Sd(r){const e=vt(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>td(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),oc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Es(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Es(s)).join(",")),e.Ie=i}return e.Ie}function bd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!MS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Av(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Xy(r.startAt,e.startAt)&&Xy(r.endAt,e.endAt)}function ed(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function HS(r,e,i,s,o,h,d,g){return new cc(r,e,i,s,o,h,d,g)}function Rv(r){return new cc(r)}function Zy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GS(r){return r.collectionGroup!==null}function Hl(r){const e=vt(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new $u(h,s))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new $u(Pe.keyField(),s))}return e.Ee}function ei(r){const e=vt(r);return e.de||(e.de=FS(e,Hl(r))),e.de}function FS(r,e){if(r.limitType==="F")return $y(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new $u(o.field,h)});const i=r.endAt?new Xu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xu(r.startAt.position,r.startAt.inclusive):null;return $y(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function nd(r,e,i){return new cc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function hc(r,e){return bd(ei(r),ei(e))&&r.limitType===e.limitType}function wv(r){return`${Sd(ei(r))}|lt:${r.limitType}`}function ds(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Sv(o)).join(", ")}]`),oc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Es(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Es(o)).join(",")),`Target(${s})`}(ei(r))}; limitType=${r.limitType})`}function fc(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ct.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of Hl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=Ky(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Hl(s),o)||s.endAt&&!function(d,g,_){const v=Ky(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Hl(s),o))}(r,e)}function QS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Dv(r){return(e,i)=>{let s=!1;for(const o of Hl(r)){const h=YS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function YS(r,e,i){const s=r.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?vs(_,v):dt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new ie(ct.comparator);function Ui(){return KS}const Cv=new ie(ct.comparator);function kl(...r){let e=Cv;for(const i of r)e=e.insert(i.key,i);return e}function Iv(r){let e=Cv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function hr(){return Gl()}function Vv(){return Gl()}function Gl(){return new _r(r=>r.toString(),(r,e)=>r.isEqual(e))}const XS=new ie(ct.comparator),$S=new be(ct.comparator);function Vt(...r){let e=$S;for(const i of r)e=e.add(i);return e}const ZS=new be(bt);function JS(){return ZS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function Nv(r){return{integerValue:""+r}}function WS(r,e){return RS(e)?Nv(e):Rd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this._=void 0}}function t1(r,e,i){return r instanceof Zu?function(o,h){const d={fields:{[dv]:{stringValue:fv},[gv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Td(h)&&(h=uc(h)),h&&(d.fields[mv]=h),{mapValue:d}}(i,e):r instanceof Wl?Mv(r,e):r instanceof to?xv(r,e):function(o,h){const d=Ov(o,h),g=Jy(d)+Jy(o.Re);return Wf(d)&&Wf(o.Re)?Nv(g):Rd(o.serializer,g)}(r,e)}function e1(r,e,i){return r instanceof Wl?Mv(r,e):r instanceof to?xv(r,e):i}function Ov(r,e){return r instanceof Ju?function(s){return Wf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Zu extends dc{}class Wl extends dc{constructor(e){super(),this.elements=e}}function Mv(r,e){const i=Uv(e);for(const s of r.elements)i.some(o=>ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class to extends dc{constructor(e){super(),this.elements=e}}function xv(r,e){let i=Uv(e);for(const s of r.elements)i=i.filter(o=>!ai(o,s));return{arrayValue:{values:i}}}class Ju extends dc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Jy(r){return he(r.integerValue||r.doubleValue)}function Uv(r){return Ad(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function n1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Wl&&o instanceof Wl||s instanceof to&&o instanceof to?_s(s.elements,o.elements,ai):s instanceof Ju&&o instanceof Ju?ai(s.Re,o.Re):s instanceof Zu&&o instanceof Zu}(r.transform,e.transform)}class i1{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mc{}function Lv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new wd(r.key,Un.none()):new no(r.key,r.data,Un.none());{const i=r.data,s=en.empty();let o=new be(Pe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new wa(r.key,s,new dn(o.toArray()),Un.none())}}function a1(r,e,i){r instanceof no?function(o,h,d){const g=o.value.clone(),_=t_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof wa?function(o,h,d){if(!qu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=t_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(zv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(r,e,i,s){return r instanceof no?function(h,d,g,_){if(!qu(h.precondition,d))return g;const v=h.value.clone(),A=e_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,i,s):r instanceof wa?function(h,d,g,_){if(!qu(h.precondition,d))return g;const v=e_(h.fieldTransforms,_,d),A=d.data;return A.setAll(zv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(r,e,i,s):function(h,d,g){return qu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function r1(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Ov(s.transform,o||null);h!=null&&(i===null&&(i=en.empty()),i.set(s.field,h))}return i||null}function Wy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_s(s,o,(h,d)=>n1(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class no extends mc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wa extends mc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function zv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function t_(r,e,i){const s=new Map;qt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,e1(d,g,i[o]))}return s}function e_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,t1(h,d,e))}return s}class wd extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s1 extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&a1(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Vv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Lv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,s)=>Wy(i,s))&&_s(this.baseMutations,e.baseMutations,(i,s)=>Wy(i,s))}}class Dd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return XS}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Dd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,xt;function c1(r){switch(r){case X.OK:return dt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function Pv(r){if(r===void 0)return xi("GRPC error has no .code"),X.UNKNOWN;switch(r){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return dt(39323,{code:r})}}(xt=pe||(pe={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new ma([4294967295,4294967295],0);function n_(r){const e=lv().encode(r),i=new W_;return i.update(e),new Uint8Array(i.digest())}function i_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ma([i,s],0),new ma([o,h],0)]}class Cd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=ma.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(ma.fromNumber(s)));return o.compare(h1)===1&&(o=new ma([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=n_(e),[s,o]=i_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);if(!this.be(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Cd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=n_(e),[s,o]=i_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,io.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new gc(yt.min(),o,new ie(bt),Ui(),Vt())}}class io{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new io(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class Bv{constructor(e,i){this.targetId=e,this.Ce=i}}class kv{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class a_{constructor(){this.Fe=0,this.Me=r_(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Vt(),i=Vt(),s=Vt();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:dt(38017,{changeType:h})}}),new io(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=r_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class f1{constructor(e){this.ze=e,this.je=new Map,this.He=Ui(),this.Je=Uu(),this.Ye=Uu(),this.Ze=new ie(bt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(ed(h))if(s===0){const d=new ct(h.path);this.tt(i,d,Fe.newNoDocument(d,yt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ea(s).toUint8Array()}catch(_){if(_ instanceof hv)return ys("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Cd(d,o,h)}catch(_){return ys(_ instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&ed(g.target)){const _=new ct(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Fe.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Vt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new gc(e,i,this.Ze,this.He,s);return this.He=Ui(),this.Je=Uu(),this.Ye=Uu(),this.Ze=new ie(bt),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new a_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new be(bt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new be(bt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new a_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Uu(){return new ie(ct.comparator)}function r_(){return new ie(ct.comparator)}const d1={asc:"ASCENDING",desc:"DESCENDING"},m1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g1={and:"AND",or:"OR"};class p1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function id(r,e){return r.useProto3Json||oc(e)?e:{value:e}}function Wu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function y1(r,e){return Wu(r,e.toTimestamp())}function ni(r){return qt(!!r,49232),yt.fromTimestamp(function(i){const s=va(i);return new Se(s.seconds,s.nanos)}(r))}function Id(r,e){return ad(r,e).canonicalString()}function ad(r,e){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function jv(r){const e=ee.fromString(r);return qt(Yv(e),10190,{key:e.toString()}),e}function rd(r,e){return Id(r.databaseId,e.path)}function zf(r,e){const i=jv(e);if(i.get(1)!==r.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(Gv(i))}function Hv(r,e){return Id(r.databaseId,e)}function _1(r){const e=jv(r);return e.length===4?ee.emptyPath():Gv(e)}function sd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Gv(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function s_(r,e,i){return{name:rd(r,e),fields:i.value.mapValue.fields}}function v1(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:Pv(v.code);return new ot(A,v.message||"")}(d);i=new kv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zf(r,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):yt.min(),g=new en({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new ju(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zf(r,s.document),h=s.readTime?ni(s.readTime):yt.min(),d=Fe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new ju([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zf(r,s.document),h=s.removedTargetIds||[];i=new ju([],h,o,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new u1(o,h),g=s.targetId;i=new Bv(g,d)}}return i}function E1(r,e){let i;if(e instanceof no)i={update:s_(r,e.key,e.value)};else if(e instanceof wd)i={delete:rd(r,e.key)};else if(e instanceof wa)i={update:s_(r,e.key,e.data),updateMask:I1(e.fieldMask)};else{if(!(e instanceof s1))return dt(16599,{ft:e.type});i={verify:rd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Zu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof to)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ju)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw dt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:y1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(r,e.precondition)),i}function T1(r,e){return r&&r.length>0?(qt(e!==void 0,14353),r.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(yt.min())&&(d=ni(h)),new i1(d,o.transformResults||[])}(i,e))):[]}function A1(r,e){return{documents:[Hv(r,e.path)]}}function S1(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Hv(r,o);const h=function(v){if(v.length!==0)return Qv(ri.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(z){return{field:ms(z.field),direction:w1(z.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=id(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:o}}function b1(r){let e=_1(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(N){const z=Fv(N);return z instanceof ri&&Tv(z)?z.getFilters():[z]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(z=>function(J){return new $u(gs(J.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(z))}(i.orderBy));let g=null;i.limit&&(g=function(N){let z;return z=typeof N=="object"?N.value:N,oc(z)?null:z}(i.limit));let _=null;i.startAt&&(_=function(N){const z=!!N.before,j=N.values||[];return new Xu(j,z)}(i.startAt));let v=null;return i.endAt&&(v=function(N){const z=!N.before,j=N.values||[];return new Xu(j,z)}(i.endAt)),HS(e,o,d,h,g,"F",_,v)}function R1(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Fv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=gs(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=gs(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gs(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ae.create(gs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(s=>Fv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(r):dt(30097,{filter:r})}function w1(r){return d1[r]}function D1(r){return m1[r]}function C1(r){return g1[r]}function ms(r){return{fieldPath:r.canonicalString()}}function gs(r){return Pe.fromServerFormat(r.fieldPath)}function Qv(r){return r instanceof Ae?function(i){if(i.op==="=="){if(Yy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(Qy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Yy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(Qy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:D1(i.op),value:i.value}}}(r):r instanceof ri?function(i){const s=i.getFilters().map(o=>Qv(o));return s.length===1?s[0]:{compositeFilter:{op:C1(i.op),filters:s}}}(r):dt(54877,{filter:r})}function I1(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Yv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,i,s,o,h=yt.min(),d=yt.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.wt=e}}function N1(r){const e=b1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.yn=new M1}addToCollectionParentIndex(e,i){return this.yn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.yn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(_a.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class M1{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new be(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new be(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Kv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ts(0)}static ir(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="LruGarbageCollector",x1=1048576;function u_([r,e],[i,s]){const o=bt(r,i);return o===0?bt(e,s):o}class U1{constructor(e){this.cr=e,this.buffer=new be(u_),this.lr=0}hr(){return++this.lr}Pr(e){const i=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();u_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class L1{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){it(o_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?it(o_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.Ir(3e5)})}}class z1{constructor(e,i){this.Er=e,this.params=i}calculateTargetCount(e,i){return this.Er.dr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(lc.le);const s=new U1(i);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Er.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Er.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(l_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l_):this.Rr(e,i))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,i){let s,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(s=N,g=Date.now(),this.removeTargets(e,s,i))).next(N=>(h=N,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(N=>(v=Date.now(),fs()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function P1(r,e){return new z1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.changes=new _r(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Fl(s.mutation,o,dn.empty(),Se.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=hr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=kl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=hr();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Ui();const d=Gl(),g=function(){return Gl()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof wa)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Fl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var N;return g.set(v,new k1(A,(N=d.get(v))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Gl();let o=new ie((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||dn.empty();A=g.applyToLocalView(v,A),s.set(_,A);const N=(o.get(g.batchId)||Vt()).add(_);o=o.insert(g.batchId,N)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,N=Vv();A.forEach(z=>{if(!h.has(z)){const j=Lv(i.get(z),s.get(z));j!==null&&N.set(z,j),h=h.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):GS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Y.resolve(hr());let g=Xl,_=h;return d.next(v=>Y.forEach(v,(A,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(z=>{_=_.insert(A,z)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Vt())).next(A=>({batchId:g,changes:Iv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,_=>{const v=function(N,z){return new cc(z,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((N,z)=>{d=d.insert(N,z)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let g=kl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Fl(A.mutation,v,dn.empty(),Se.now()),fc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Fr.get(i))}saveBundleMetadata(e,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Mr.get(i))}saveNamedQuery(e,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:N1(o.bundledQuery),readTime:ni(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.overlays=new ie(ct.comparator),this.Or=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=hr();return Y.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Or.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const o=hr(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=hr(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=hr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Y.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new o1(i,s));let h=this.Or.get(i);h===void 0&&(h=Vt(),this.Or.set(i,h)),this.Or.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.Nr=new be(Ne.Br),this.Lr=new be(Ne.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,i){const s=new Ne(e,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Qr(new Ne(e,i))}$r(e,i){e.forEach(s=>this.removeReference(s,i))}Ur(e){const i=new ct(new ee([])),s=new Ne(i,e),o=new Ne(i,e+1),h=[];return this.Lr.forEachInRange([s,o],d=>{this.Qr(d),h.push(d.key)}),h}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const i=new ct(new ee([])),s=new Ne(i,e),o=new Ne(i,e+1);let h=Vt();return this.Lr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ne{constructor(e,i){this.key=e,this.Gr=i}static Br(e,i){return ct.comparator(e.key,i.key)||bt(e.Gr,i.Gr)}static kr(e,i){return bt(e.Gr,i.Gr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new be(Ne.Br)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new l1(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.zr=this.zr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Hr(s),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Ed:this.Jn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.zr.forEachInRange([s,o],d=>{const g=this.jr(d.Gr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new be(bt);return i.forEach(o=>{const h=new Ne(o,0),d=new Ne(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([h,d],g=>{s=s.add(g.Gr)})}),Y.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ct(h),0);let g=new be(bt);return this.zr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Gr)),!0)},d),Y.resolve(this.Jr(g))}Jr(e){const i=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Y.forEach(i.mutations,o=>{const h=new Ne(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,i){const s=new Ne(i,0),o=this.zr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Yr(e,i){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const i=this.Hr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.Zr=e,this.docs=function(){return new ie(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Ui();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Fe.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ui();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||TS(ES(A),s)<=0||(o.has(A.key)||fc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,s,o){dt(9500)}Xr(e,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Y1(this)}getSize(e){return Y.resolve(this.size)}}class Y1 extends B1{constructor(e){super(),this.vr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),Y.waitFor(i)}getFromCache(e,i){return this.vr.getEntry(e,i)}getAllFromCache(e,i){return this.vr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.persistence=e,this.ei=new _r(i=>Sd(i),bd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Vd,this.targetCount=0,this.ri=Ts.rr()}forEachTarget(e,i){return this.ei.forEach((s,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),Y.resolve()}ar(e){this.ei.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ri=new Ts(i),this.highestTargetId=i),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,i){return this.ar(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.ar(i),Y.resolve()}removeTargetData(e,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Y.waitFor(h).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.ei.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this.ni.qr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this.ni.$r(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ni.Ur(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ni.Wr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i){this.ii={},this.overlays={},this.si=new lc(0),this.oi=!1,this.oi=!0,this._i=new G1,this.referenceDelegate=e(this),this.ai=new K1(this),this.indexManager=new O1,this.remoteDocumentCache=function(o){return new Q1(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new V1(i),this.ci=new j1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new H1,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ii[e.toKey()];return s||(s=new F1(i,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new X1(this.si.next());return this.referenceDelegate.li(),s(o).next(h=>this.referenceDelegate.hi(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Pi(e,i){return Y.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,i)))}}class X1 extends SS{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Ti=new Vd,this.Ii=null}static Ei(e){return new Nd(e)}get di(){if(this.Ii)return this.Ii;throw dt(60996)}addReference(e,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.di.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}li(){this.Ii=new Set}hi(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,s=>{const o=ct.fromPath(s);return this.Ai(e,o).next(h=>{h||i.removeEntry(o,yt.min())})}).next(()=>(this.Ii=null,i.apply(e)))}updateLimboDocument(e,i){return this.Ai(e,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(e){return 0}Ai(e,i){return Y.or([()=>Y.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Pi(e,i)])}}class tc{constructor(e,i){this.persistence=e,this.Ri=new _r(s=>wS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=P1(this,i)}static Ei(e,i){return new tc(e,i)}li(){}hi(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}Vr(e){let i=0;return this.Ar(e,s=>{i++}).next(()=>i)}Ar(e,i){return Y.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(h=>h?Y.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.Xr(e,d=>this.gr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.Ri.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.Ri.set(i,e.currentSequenceNumber),Y.resolve()}ui(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bu(e.data.value)),i}gr(e,i,s){return Y.or([()=>this.persistence.Pi(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.Ri.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ls=s,this.hs=o}static Ps(e,i){let s=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Od(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return QT()?8:bS(HT())>0?6:4}()}initialize(e,i){this.As=e,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.Rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Vs(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new $1;return this.fs(e,i,d).next(g=>{if(h.result=g,this.Is)return this.gs(e,i,d,g.size)})}).next(()=>h.result)}gs(e,i,s,o){return s.documentReadCount<this.Es?(fs()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Y.resolve()):(fs()<=Ut.DEBUG&&it("QueryEngine","Query:",ds(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(fs()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Y.resolve())}Rs(e,i){if(Zy(i))return Y.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=nd(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Vt(...h);return this.As.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.ps(i,g);return this.ys(i,v,d,_.readTime)?this.Rs(e,nd(i,null,"F")):this.ws(e,v,i,_)}))})))}Vs(e,i,s,o){return Zy(i)||o.isEqual(yt.min())?Y.resolve(null):this.As.getDocuments(e,s).next(h=>{const d=this.ps(i,h);return this.ys(i,d,s,o)?Y.resolve(null):(fs()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ds(i)),this.ws(e,d,i,vS(o,Xl)).next(g=>g))})}ps(e,i){let s=new be(Dv(e));return i.forEach((o,h)=>{fc(e,h)&&(s=s.add(h))}),s}ys(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}fs(e,i,s){return fs()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ds(i)),this.As.getDocumentsMatchingQuery(e,i,_a.min(),s)}ws(e,i,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="LocalStore",J1=3e8;class W1{constructor(e,i,s,o){this.persistence=e,this.bs=i,this.serializer=o,this.Ss=new ie(bt),this.Ds=new _r(h=>Sd(h),bd),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q1(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ss))}}function tb(r,e,i,s){return new W1(r,e,i,s)}async function $v(r,e){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Fs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Vt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Ms:v,removedBatchIds:d,addedBatchIds:g}))})})}function eb(r,e){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const N=v.batch,z=N.keys();let j=Y.resolve();return z.forEach(J=>{j=j.next(()=>A.getEntry(_,J)).next(nt=>{const $=v.docVersions.get(J);qt($!==null,48541),nt.version.compareTo($)<0&&(N.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,N))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Zv(r){const e=vt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ai.getLastRemoteSnapshotVersion(i))}function nb(r,e){const i=vt(r),s=e.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const g=[];e.targetChanges.forEach((A,N)=>{const z=o.get(N);if(!z)return;g.push(i.ai.removeMatchingKeys(h,A.removedDocuments,N).next(()=>i.ai.addMatchingKeys(h,A.addedDocuments,N)));let j=z.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),o=o.insert(N,j),function(nt,$,Tt){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=J1?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(z,j,A)&&g.push(i.ai.updateTargetData(h,j))});let _=Ui(),v=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(ib(h,d,e.documentUpdates).next(A=>{_=A.xs,v=A.Os})),!s.isEqual(yt.min())){const A=i.ai.getLastRemoteSnapshotVersion(h).next(N=>i.ai.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ss=o,h))}function ib(r,e,i){let s=Vt(),o=Vt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=Ui();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(Md,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{xs:d,Os:o}})}function ab(r,e){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ed),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function rb(r,e){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.ai.getTargetData(s,e).next(h=>h?(o=h,Y.resolve(o)):i.ai.allocateTargetId(s).next(d=>(o=new ha(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(e,s.targetId)),s})}async function ld(r,e,i){const s=vt(r),o=s.Ss.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ws(d))throw d;it(Md,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function c_(r,e,i){const s=vt(r);let o=yt.min(),h=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const N=vt(_),z=N.Ds.get(A);return z!==void 0?Y.resolve(N.Ss.get(z)):N.ai.getTargetData(v,A)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.bs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:Vt())).next(g=>(sb(s,QS(e),g),{documents:g,Ns:h})))}function sb(r,e,i){let s=r.vs.get(e)||yt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.vs.set(e,s)}class h_{constructor(){this.activeTargetIds=JS()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lb{constructor(){this.So=new h_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,i,s){this.Do[e]=i}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new h_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="ConnectivityMonitor";class d_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){it(f_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){it(f_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function od(){return Lu===null?Lu=function(){return 268435456+Math.round(2147483648*Math.random())}():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="RestConnection",ub={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cb{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Yu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,i,s,o,h){const d=od(),g=this.$o(e,i.toUriEncodedString());it(Pf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(_,o,h),this.Ko(e,g,_,s).then(v=>(it(Pf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ys(Pf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Wo(e,i,s,o,h,d){return this.Qo(e,i,s,o,h)}Uo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}$o(e,i){const s=ub[e];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class fb extends cb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,i,s,o){const h=od();return new Promise((d,g)=>{const _=new tv;_.setWithCredentials(!0),_.listenOnce(ev.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Pu.NO_ERROR:const A=_.getResponseJson();it(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Pu.TIMEOUT:it(He,`RPC '${e}' ${h} timed out`),g(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const N=_.getStatus();if(it(He,`RPC '${e}' ${h} failed with status:`,N,"response text:",_.getResponseText()),N>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const j=z==null?void 0:z.error;if(j&&j.status&&j.message){const J=function($){const Tt=$.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Tt)>=0?Tt:X.UNKNOWN}(j.status);g(new ot(J,j.message))}else g(new ot(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ot(X.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{s_:e,streamId:h,o_:_.getLastErrorCode(),__:_.getLastError()})}}finally{it(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);it(He,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",v,s,15)})}a_(e,i,s){const o=od(),h=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=av(),g=iv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Uo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${o}: ${A}`,_);const N=d.createWebChannel(A,_);let z=!1,j=!1;const J=new hb({Go:$=>{j?it(He,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(z||(it(He,`Opening RPC '${e}' stream ${o} transport.`),N.open(),z=!0),it(He,`RPC '${e}' stream ${o} sending:`,$),N.send($))},zo:()=>N.close()}),nt=($,Tt,Et)=>{$.listen(Tt,mt=>{try{Et(mt)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return nt(N,Bl.EventType.OPEN,()=>{j||(it(He,`RPC '${e}' stream ${o} transport opened.`),J.t_())}),nt(N,Bl.EventType.CLOSE,()=>{j||(j=!0,it(He,`RPC '${e}' stream ${o} transport closed`),J.r_())}),nt(N,Bl.EventType.ERROR,$=>{j||(j=!0,ys(He,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),J.r_(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),nt(N,Bl.EventType.MESSAGE,$=>{var Tt;if(!j){const Et=$.data[0];qt(!!Et,16349);const mt=Et,Lt=(mt==null?void 0:mt.error)||((Tt=mt[0])===null||Tt===void 0?void 0:Tt.error);if(Lt){it(He,`RPC '${e}' stream ${o} received error:`,Lt);const _t=Lt.status;let It=function(D){const b=pe[D];if(b!==void 0)return Pv(b)}(_t),O=Lt.message;It===void 0&&(It=X.INTERNAL,O="Unknown error status: "+_t+" with message "+Lt.message),j=!0,J.r_(new ot(It,O)),N.close()}else it(He,`RPC '${e}' stream ${o} received:`,Et),J.i_(Et)}}),nt(g,nv.STAT_EVENT,$=>{$.stat===$f.PROXY?it(He,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===$f.NOPROXY&&it(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.n_()},0),J}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r){return new p1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.bi=e,this.timerId=i,this.u_=s,this.c_=o,this.l_=h,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="PersistentStream";class Wv{constructor(e,i,s,o,h,d,g,_){this.bi=e,this.R_=s,this.V_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Jv(e,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(xi(i.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===i&&this.B_(s,o)},s=>{e(()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,i){const s=this.N_(this.m_);this.stream=this.k_(e,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return it(m_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return i=>{this.bi.enqueueAndForget(()=>this.m_===e?i():(it(m_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class db extends Wv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}k_(e,i){return this.connection.a_("Listen",e,i)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const i=v1(this.serializer,e),s=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ni(d.readTime):yt.min()}(e);return this.listener.Q_(i,s)}U_(e){const i={};i.database=sd(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=ed(_)?{documents:A1(h,_)}:{query:S1(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qv(h,d.resumeToken);const v=id(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Wu(h,d.snapshotVersion.toTimestamp());const v=id(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=R1(this.serializer,e);s&&(i.labels=s),this.F_(i)}K_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.F_(i)}}class mb extends Wv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,i){return this.connection.a_("Write",e,i)}q_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const i=T1(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.j_(s,i)}H_(){const e={};e.database=sd(this.serializer),this.F_(e)}G_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>E1(this.serializer,s))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{}class pb extends gb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,i,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Qo(e,ad(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(X.UNKNOWN,h.toString())})}Wo(e,i,s,o,h){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(e,ad(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class yb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(xi(i),this.ea=!1):it("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="RemoteStore";class _b{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=h,this.ca.vo(d=>{s.enqueueAndForget(async()=>{vr(this)&&(it(mr,"Restarting streams for network reachability change."),await async function(_){const v=vt(_);v.aa.add(4),await ao(v),v.la.set("Unknown"),v.aa.delete(4),await yc(v)}(this))})}),this.la=new yb(s,o)}}async function yc(r){if(vr(r))for(const e of r.ua)await e(!0)}async function ao(r){for(const e of r.ua)await e(!1)}function t0(r,e){const i=vt(r);i._a.has(e.targetId)||(i._a.set(e.targetId,e),zd(i)?Ld(i):Ds(i).b_()&&Ud(i,e))}function xd(r,e){const i=vt(r),s=Ds(i);i._a.delete(e),s.b_()&&e0(i,e),i._a.size===0&&(s.b_()?s.v_():vr(i)&&i.la.set("Unknown"))}function Ud(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(r).U_(e)}function e0(r,e){r.ha.Ke(e),Ds(r).K_(e)}function Ld(r){r.ha=new f1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ds(r).start(),r.la.ta()}function zd(r){return vr(r)&&!Ds(r).w_()&&r._a.size>0}function vr(r){return vt(r).aa.size===0}function n0(r){r.ha=void 0}async function vb(r){r.la.set("Online")}async function Eb(r){r._a.forEach((e,i)=>{Ud(r,e)})}async function Tb(r,e){n0(r),zd(r)?(r.la.ia(e),Ld(r)):r.la.set("Unknown")}async function Ab(r,e,i){if(r.la.set("Online"),e instanceof kv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o._a.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o._a.delete(g),o.ha.removeTarget(g))}(r,e)}catch(s){it(mr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ec(r,s)}else if(e instanceof ju?r.ha.Xe(e):e instanceof Bv?r.ha.ot(e):r.ha.nt(e),!i.isEqual(yt.min()))try{const s=await Zv(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.ha.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h._a.get(v);A&&h._a.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h._a.get(_);if(!A)return;h._a.set(_,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),e0(h,_);const N=new ha(A.target,_,v,A.sequenceNumber);Ud(h,N)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){it(mr,"Failed to raise snapshot:",s),await ec(r,s)}}async function ec(r,e,i){if(!ws(e))throw e;r.aa.add(1),await ao(r),r.la.set("Offline"),i||(i=()=>Zv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(mr,"Retrying IndexedDB access"),await i(),r.aa.delete(1),await yc(r)})}function i0(r,e){return e().catch(i=>ec(r,i,e))}async function _c(r){const e=vt(r),i=Aa(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Ed;for(;Sb(e);)try{const o=await ab(e.localStore,s);if(o===null){e.oa.length===0&&i.v_();break}s=o.batchId,bb(e,o)}catch(o){await ec(e,o)}a0(e)&&r0(e)}function Sb(r){return vr(r)&&r.oa.length<10}function bb(r,e){r.oa.push(e);const i=Aa(r);i.b_()&&i.W_&&i.G_(e.mutations)}function a0(r){return vr(r)&&!Aa(r).w_()&&r.oa.length>0}function r0(r){Aa(r).start()}async function Rb(r){Aa(r).H_()}async function wb(r){const e=Aa(r);for(const i of r.oa)e.G_(i.mutations)}async function Db(r,e,i){const s=r.oa.shift(),o=Dd.from(s,e,i);await i0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await _c(r)}async function Cb(r,e){e&&Aa(r).W_&&await async function(s,o){if(function(d){return c1(d)&&d!==X.ABORTED}(o.code)){const h=s.oa.shift();Aa(s).D_(),await i0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await _c(s)}}(r,e),a0(r)&&r0(r)}async function g_(r,e){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),it(mr,"RemoteStore received new credentials");const s=vr(i);i.aa.add(3),await ao(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.aa.delete(3),await yc(i)}async function Ib(r,e){const i=vt(r);e?(i.aa.delete(2),await yc(i)):e||(i.aa.add(2),await ao(i),i.la.set("Unknown"))}function Ds(r){return r.Pa||(r.Pa=function(i,s,o){const h=vt(i);return h.Y_(),new db(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{jo:vb.bind(null,r),Jo:Eb.bind(null,r),Zo:Tb.bind(null,r),Q_:Ab.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),zd(r)?Ld(r):r.la.set("Unknown")):(await r.Pa.stop(),n0(r))})),r.Pa}function Aa(r){return r.Ta||(r.Ta=function(i,s,o){const h=vt(i);return h.Y_(),new mb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:Rb.bind(null,r),Zo:Cb.bind(null,r),z_:wb.bind(null,r),j_:Db.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await _c(r)):(await r.Ta.stop(),r.oa.length>0&&(it(mr,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Pd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(r,e){if(xi("AsyncQueue",`${e}: ${r}`),ws(r))return new ot(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{static emptySet(e){return new ps(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=kl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ps;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.Ia=new ie(ct.comparator)}track(e){const i=e.doc.key,s=this.Ia.get(i);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(i):e.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):dt(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(i,e)}da(){const e=[];return this.Ia.inorderTraversal((i,s)=>{e.push(s)}),e}}class As{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new As(e,i,ps.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Nb{constructor(){this.queries=y_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const o=vt(i),h=o.queries;o.queries=y_(),h.forEach((d,g)=>{for(const _ of g.Ra)_.onError(s)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function y_(){return new _r(r=>wv(r),hc)}async function Ob(r,e){const i=vt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Va()&&e.ma()&&(s=2):(h=new Vb,s=e.ma()?0:1);try{switch(s){case 0:h.Aa=await i.onListen(o,!0);break;case 1:h.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Bd(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Ra.push(e),e.ga(i.onlineState),h.Aa&&e.pa(h.Aa)&&kd(i)}async function Mb(r,e){const i=vt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Ra.indexOf(e);d>=0&&(h.Ra.splice(d,1),h.Ra.length===0?o=e.ma()?0:1:!h.Va()&&e.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function xb(r,e){const i=vt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Ra)g.pa(o)&&(s=!0);d.Aa=o}}s&&kd(i)}function Ub(r,e,i){const s=vt(r),o=s.queries.get(e);if(o)for(const h of o.Ra)h.onError(i);s.queries.delete(e)}function kd(r){r.fa.forEach(e=>{e.next()})}var ud,__;(__=ud||(ud={})).ya="default",__.Cache="cache";class Lb{constructor(e,i,s){this.query=e,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new As(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ba?this.Da(e)&&(this.wa.next(e),i=!0):this.va(e,this.onlineState)&&(this.Ca(e),i=!0),this.Sa=e,i}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),i=!0),i}va(e,i){if(!e.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.key=e}}class l0{constructor(e){this.key=e}}class zb{constructor(e,i){this.query=e,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Vt(),this.mutatedKeys=Vt(),this.Ua=Dv(e),this.Ka=new ps(this.Ua)}get Wa(){return this.qa}Ga(e,i){const s=i?i.za:new p_,o=i?i.Ka:this.Ka;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const z=o.get(A),j=fc(this.query,N)?N:null,J=!!z&&this.mutatedKeys.has(z.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;z&&j?z.data.isEqual(j.data)?J!==nt&&(s.track({type:3,doc:j}),$=!0):this.ja(z,j)||(s.track({type:2,doc:j}),$=!0,(_&&this.Ua(j,_)>0||v&&this.Ua(j,v)<0)&&(g=!0)):!z&&j?(s.track({type:0,doc:j}),$=!0):z&&!j&&(s.track({type:1,doc:z}),$=!0,(_||v)&&(g=!0)),$&&(j?(d=d.add(j),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ka:d,za:s,ys:g,mutatedKeys:h}}ja(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const d=e.za.da();d.sort((A,N)=>function(j,J){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:$})}};return nt(j)-nt(J)}(A.type,N.type)||this.Ua(A.doc,N.doc)),this.Ha(s),o=o!=null&&o;const g=i&&!o?this.Ja():[],_=this.$a.size===0&&this.current&&!o?1:0,v=_!==this.Qa;return this.Qa=_,d.length!==0||v?{snapshot:new As(this.query,e.Ka,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new p_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Vt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return e.forEach(s=>{this.$a.has(s)||i.push(new l0(s))}),this.$a.forEach(s=>{e.has(s)||i.push(new s0(s))}),i}Xa(e){this.qa=e.Ns,this.$a=Vt();const i=this.Ga(e.documents);return this.applyChanges(i,!0)}eu(){return As.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const qd="SyncEngine";class Pb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Bb{constructor(e){this.key=e,this.tu=!1}}class kb{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new _r(g=>wv(g),hc),this.iu=new Map,this.su=new Set,this.ou=new ie(ct.comparator),this._u=new Map,this.au=new Vd,this.uu={},this.cu=new Map,this.lu=Ts.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function qb(r,e,i=!0){const s=d0(r);let o;const h=s.ru.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.eu()):o=await o0(s,e,i,!0),o}async function jb(r,e){const i=d0(r);await o0(i,e,!0,!1)}async function o0(r,e,i,s){const o=await rb(r.localStore,ei(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await Hb(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&t0(r.remoteStore,o),g}async function Hb(r,e,i,s,o){r.Pu=(N,z,j)=>async function(nt,$,Tt,Et){let mt=$.view.Ga(Tt);mt.ys&&(mt=await c_(nt.localStore,$.query,!1).then(({documents:O})=>$.view.Ga(O,mt)));const Lt=Et&&Et.targetChanges.get($.targetId),_t=Et&&Et.targetMismatches.get($.targetId)!=null,It=$.view.applyChanges(mt,nt.isPrimaryClient,Lt,_t);return E_(nt,$.targetId,It.Ya),It.snapshot}(r,N,z,j);const h=await c_(r.localStore,e,!0),d=new zb(e,h.Ns),g=d.Ga(h.documents),_=io.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);E_(r,i,v.Ya);const A=new Pb(e,i,d);return r.ru.set(e,A),r.iu.has(i)?r.iu.get(i).push(e):r.iu.set(i,[e]),v.snapshot}async function Gb(r,e,i){const s=vt(r),o=s.ru.get(e),h=s.iu.get(o.targetId);if(h.length>1)return s.iu.set(o.targetId,h.filter(d=>!hc(d,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ld(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&xd(s.remoteStore,o.targetId),cd(s,o.targetId)}).catch(Rs)):(cd(s,o.targetId),await ld(s.localStore,o.targetId,!0))}async function Fb(r,e){const i=vt(r),s=i.ru.get(e),o=i.iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),xd(i.remoteStore,s.targetId))}async function Qb(r,e,i){const s=Wb(r);try{const o=await function(d,g){const _=vt(d),v=Se.now(),A=g.reduce((j,J)=>j.add(J.key),Vt());let N,z;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let J=Ui(),nt=Vt();return _.Cs.getEntries(j,A).next($=>{J=$,J.forEach((Tt,Et)=>{Et.isValidDocument()||(nt=nt.add(Tt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,J)).next($=>{N=$;const Tt=[];for(const Et of g){const mt=r1(Et,N.get(Et.key).overlayedDocument);mt!=null&&Tt.push(new wa(Et.key,mt,_v(mt.value.mapValue),Un.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,Tt,g)}).next($=>{z=$;const Tt=$.applyToLocalDocumentSet(N,nt);return _.documentOverlayCache.saveOverlays(j,$.batchId,Tt)})}).then(()=>({batchId:z.batchId,changes:Iv(N)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.uu[d.currentUser.toKey()];v||(v=new ie(bt)),v=v.insert(g,_),d.uu[d.currentUser.toKey()]=v}(s,o.batchId,i),await ro(s,o.changes),await _c(s.remoteStore)}catch(o){const h=Bd(o,"Failed to persist write");i.reject(h)}}async function u0(r,e){const i=vt(r);try{const s=await nb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i._u.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.tu=!0:o.modifiedDocuments.size>0?qt(d.tu,14607):o.removedDocuments.size>0&&(qt(d.tu,42227),d.tu=!1))}),await ro(i,s,e)}catch(s){await Rs(s)}}function v_(r,e,i){const s=vt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ru.forEach((h,d)=>{const g=d.view.ga(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=vt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,N)=>{for(const z of N.Ra)z.ga(g)&&(v=!0)}),v&&kd(_)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Yb(r,e,i){const s=vt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s._u.get(e),h=o&&o.key;if(h){let d=new ie(ct.comparator);d=d.insert(h,Fe.newNoDocument(h,yt.min()));const g=Vt().add(h),_=new gc(yt.min(),new Map,new ie(bt),d,g);await u0(s,_),s.ou=s.ou.remove(h),s._u.delete(e),jd(s)}else await ld(s.localStore,e,!1).then(()=>cd(s,e,i)).catch(Rs)}async function Kb(r,e){const i=vt(r),s=e.batch.batchId;try{const o=await eb(i.localStore,e);h0(i,s,null),c0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ro(i,o)}catch(o){await Rs(o)}}async function Xb(r,e,i){const s=vt(r);try{const o=await function(d,g){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(N=>(qt(N!==null,37113),A=N.keys(),_.mutationQueue.removeMutationBatch(v,N))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);h0(s,e,i),c0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ro(s,o)}catch(o){await Rs(o)}}function c0(r,e){(r.cu.get(e)||[]).forEach(i=>{i.resolve()}),r.cu.delete(e)}function h0(r,e,i){const s=vt(r);let o=s.uu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function cd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.iu.get(e))r.ru.delete(s),i&&r.nu.Tu(s,i);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(s=>{r.au.containsKey(s)||f0(r,s)})}function f0(r,e){r.su.delete(e.path.canonicalString());const i=r.ou.get(e);i!==null&&(xd(r.remoteStore,i),r.ou=r.ou.remove(e),r._u.delete(i),jd(r))}function E_(r,e,i){for(const s of i)s instanceof s0?(r.au.addReference(s.key,e),$b(r,s)):s instanceof l0?(it(qd,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,e),r.au.containsKey(s.key)||f0(r,s.key)):dt(19791,{Iu:s})}function $b(r,e){const i=e.key,s=i.path.canonicalString();r.ou.get(i)||r.su.has(s)||(it(qd,"New document in limbo: "+i),r.su.add(s),jd(r))}function jd(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const i=new ct(ee.fromString(e)),s=r.lu.next();r._u.set(s,new Bb(i)),r.ou=r.ou.insert(i,s),t0(r.remoteStore,new ha(ei(Rv(i.path)),s,"TargetPurposeLimboResolution",lc.le))}}async function ro(r,e,i){const s=vt(r),o=[],h=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,_)=>{d.push(s.Pu(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const N=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(v){o.push(v);const N=Od.Ps(_.targetId,v);h.push(N)}}))}),await Promise.all(d),s.nu.Q_(o),await async function(_,v){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Y.forEach(v,z=>Y.forEach(z.ls,j=>A.persistence.referenceDelegate.addReference(N,z.targetId,j)).next(()=>Y.forEach(z.hs,j=>A.persistence.referenceDelegate.removeReference(N,z.targetId,j)))))}catch(N){if(!ws(N))throw N;it(Md,"Failed to update sequence numbers: "+N)}for(const N of v){const z=N.targetId;if(!N.fromCache){const j=A.Ss.get(z),J=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion(J);A.Ss=A.Ss.insert(z,nt)}}}(s.localStore,h))}async function Zb(r,e){const i=vt(r);if(!i.currentUser.isEqual(e)){it(qd,"User change. New user:",e.toKey());const s=await $v(i.localStore,e);i.currentUser=e,function(h,d){h.cu.forEach(g=>{g.forEach(_=>{_.reject(new ot(X.CANCELLED,d))})}),h.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ro(i,s.Ms)}}function Jb(r,e){const i=vt(r),s=i._u.get(e);if(s&&s.tu)return Vt().add(s.key);{let o=Vt();const h=i.iu.get(e);if(!h)return o;for(const d of h){const g=i.ru.get(d);o=o.unionWith(g.view.Wa)}return o}}function d0(r){const e=vt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=u0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yb.bind(null,e),e.nu.Q_=xb.bind(null,e.eventManager),e.nu.Tu=Ub.bind(null,e.eventManager),e}function Wb(r){const e=vt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xb.bind(null,e),e}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,i){return null}fu(e,i){return null}Vu(e){return tb(this.persistence,new Z1,e.initialUser,this.serializer)}Ru(e){return new Xv(Nd.Ei,this.serializer)}Au(e){return new lb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class tR extends nc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,i){qt(this.persistence.referenceDelegate instanceof tc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new L1(s,e.asyncQueue,i)}Ru(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Xv(s=>tc.Ei(s,i),this.serializer)}}class hd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>v_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zb.bind(null,this.syncEngine),await Ib(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Nb}()}createDatastore(e){const i=pc(e.databaseInfo.databaseId),s=function(h){return new fb(h)}(e.databaseInfo);return function(h,d,g,_){return new pb(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new _b(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>v_(this.syncEngine,i,0),function(){return d_.C()?new d_:new ob}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const N=new kb(o,h,d,g,_,v);return A&&(N.hu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=vt(o);it(mr,"RemoteStore shutting down."),h.aa.add(5),await ao(h),h.ca.shutdown(),h.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}hd.provider={build:()=>new hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="FirestoreClient";class nR{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ge.UNAUTHENTICATED,this.clientId=ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{it(Sa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Sa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Bd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function kf(r,e){r.asyncQueue.verifyOperationInProgress(),it(Sa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await $v(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function T_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await iR(r);it(Sa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>g_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>g_(e.remoteStore,o)),r._onlineComponents=e}async function iR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Sa,"Using user provided OfflineComponentProvider");try{await kf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ys("Error using user provided cache. Falling back to memory cache: "+i),await kf(r,new nc)}}else it(Sa,"Using default OfflineComponentProvider"),await kf(r,new tR(void 0));return r._offlineComponents}async function m0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Sa,"Using user provided OnlineComponentProvider"),await T_(r,r._uninitializedComponentsProvider._online)):(it(Sa,"Using default OnlineComponentProvider"),await T_(r,new hd))),r._onlineComponents}function aR(r){return m0(r).then(e=>e.syncEngine)}async function rR(r){const e=await m0(r),i=e.eventManager;return i.onListen=qb.bind(null,e.syncEngine),i.onUnlisten=Gb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=jb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Fb.bind(null,e.syncEngine),i}function sR(r,e,i={}){const s=new ga;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new eR({next:z=>{A.yu(),d.enqueueAndForget(()=>Mb(h,N)),z.fromCache&&_.source==="server"?v.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(z)},error:z=>v.reject(z)}),N=new Lb(g,A,{includeMetadataChanges:!0,Fa:!0});return Ob(h,N)}(await rR(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(r,e,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function lR(r,e,i,s){if(e===!0&&s===!0)throw new ot(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function S_(r){if(!ct.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b_(r){if(ct.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Hd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function gr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hd(r);throw new ot(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="firestore.googleapis.com",R_=!0;class w_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y0,this.ssl=R_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:R_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x1)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new cS;switch(s.type){case"firstParty":return new mS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=A_.get(i);s&&(it("ComponentProvider","Removing Datastore"),A_.delete(i),s.terminate())}(this),Promise.resolve()}}function oR(r,e,i,s={}){var o;const h=(r=gr(r,vc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==y0&&h.host!==g&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!Yl(_,d)&&(r._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ge.MOCK_USER;else{v=jT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ge(N)}r._authCredentials=new hS(new sv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ec(this.firestore,e,this._query)}}class Cn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class pa extends Ec{constructor(e,i,s){super(e,i,Rv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ct(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function qf(r,e,...i){if(r=ii(r),p0("collection","path",e),r instanceof vc){const s=ee.fromString(e,...i);return b_(s),new pa(r,null,s)}{if(!(r instanceof Cn||r instanceof pa))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return b_(s),new pa(r.firestore,null,s)}}function fd(r,e,...i){if(r=ii(r),arguments.length===1&&(e=ov.newId()),p0("doc","path",e),r instanceof vc){const s=ee.fromString(e,...i);return S_(s),new Cn(r,null,new ct(s))}{if(!(r instanceof Cn||r instanceof pa))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return S_(s),new Cn(r.firestore,r instanceof pa?r.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class C_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Jv(this,"async_queue_retry"),this.ju=()=>{const s=Bf();s&&it(D_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const i=Bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const i=Bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new ga;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ws(e))throw e;it(D_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const i=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,xi("INTERNAL UNHANDLED ERROR: ",I_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(e,i,s){this.Ju(),this.zu.indexOf(e)>-1&&(i=0);const o=Pd.createAndSchedule(this,e,i,s,h=>this.Xu(h));return this.Uu.push(o),o}Ju(){this.Ku&&dt(47125,{ec:I_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const i of this.Uu)if(i.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const i=this.Uu.indexOf(e);this.Uu.splice(i,1)}}function I_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class so extends vc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new C_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C_(e),this._firestoreClient=void 0,await e}}}function uR(r,e){const i=typeof r=="object"?r:$_(),s=typeof r=="string"?r:Yu,o=eo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=kT("firestore");h&&oR(o,...h)}return o}function _0(r){if(r._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cR(r),r._firestoreClient}function cR(r){var e,i,s;const o=r._freezeSettings(),h=function(g,_,v,A){return new IS(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,g0(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new nR(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(Be.fromBase64String(e))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ss(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=/^__.*__$/;class fR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,i,this.fieldTransforms):new no(e,this.data,i,this.fieldTransforms)}}class v0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new wa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function E0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{oc:r})}}class Yd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this._c(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return ic(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(E0(this.oc)&&hR.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class dR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||pc(e)}dc(e,i,s,o=!1){return new Yd({oc:e,methodName:i,Ec:s,path:Pe.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T0(r){const e=r._freezeSettings(),i=pc(r._databaseId);return new dR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function mR(r,e,i,s,o,h={}){const d=r.dc(h.merge||h.mergeFields?2:0,e,i,o);Kd("Data must be an object, but it was:",d,s);const g=A0(s,d);let _,v;if(h.merge)_=new dn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const N of h.mergeFields){const z=dd(e,N,i);if(!d.contains(z))throw new ot(X.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);b0(A,z)||A.push(z)}_=new dn(A),v=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,v=d.fieldTransforms;return new fR(new en(g),_,v)}class Ac extends Gd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ac}}function gR(r,e,i,s){const o=r.dc(1,e,i);Kd("Data must be an object, but it was:",o,s);const h=[],d=en.empty();Ra(s,(_,v)=>{const A=Xd(e,_,i);v=ii(v);const N=o.hc(A);if(v instanceof Ac)h.push(A);else{const z=Sc(v,N);z!=null&&(h.push(A),d.set(A,z))}});const g=new dn(h);return new v0(d,g,o.fieldTransforms)}function pR(r,e,i,s,o,h){const d=r.dc(1,e,i),g=[dd(e,s,i)],_=[o];if(h.length%2!=0)throw new ot(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<h.length;z+=2)g.push(dd(e,h[z])),_.push(h[z+1]);const v=[],A=en.empty();for(let z=g.length-1;z>=0;--z)if(!b0(v,g[z])){const j=g[z];let J=_[z];J=ii(J);const nt=d.hc(j);if(J instanceof Ac)v.push(j);else{const $=Sc(J,nt);$!=null&&(v.push(j),A.set(j,$))}}const N=new dn(v);return new v0(A,N,d.fieldTransforms)}function Sc(r,e){if(S0(r=ii(r)))return Kd("Unsupported field value:",e,r),A0(r,e);if(r instanceof Gd)return function(s,o){if(!E0(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=Sc(g,o.Pc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,o){if((s=ii(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Se.fromDate(s);return{timestampValue:Wu(o.serializer,h)}}if(s instanceof Se){const h=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wu(o.serializer,h)}}if(s instanceof Fd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ss)return{bytesValue:qv(o.serializer,s._byteString)};if(s instanceof Cn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Id(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Qd)return function(d,g){return{mapValue:{fields:{[pv]:{stringValue:yv},[Ku]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Tc("VectorValues must only contain numeric values.");return Rd(g.serializer,v)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Hd(s)}`)}(r,e)}function A0(r,e){const i={};return cv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(r,(s,o)=>{const h=Sc(o,e.uc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function S0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof Fd||r instanceof Ss||r instanceof Cn||r instanceof Gd||r instanceof Qd)}function Kd(r,e,i){if(!S0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Hd(i);throw s==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+s)}}function dd(r,e,i){if((e=ii(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return Xd(r,e);throw ic("Field path arguments must be of type string or ",r,!1,void 0,i)}const yR=new RegExp("[~\\*/\\[\\]]");function Xd(r,e,i){if(e.search(yR)>=0)throw ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Tc(...e.split("."))._internalPath}catch{throw ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ic(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new ot(X.INVALID_ARGUMENT,g+r+_)}function b0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(w0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _R extends R0{data(){return super.data()}}function w0(r,e){return typeof e=="string"?Xd(r,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ER{convertValue(e,i="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ra(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Ku].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>he(d.doubleValue));return new Qd(h)}convertGeoPoint(e){return new Fd(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=uc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=va(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);qt(Yv(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),h=new ct(s.popFirst(5));return o.isEqual(i)||xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AR extends R0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(w0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Hu extends AR{data(e={}){return super.data(e)}}class SR{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new zu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Hu(this._firestore,this._userDataWriter,s.key,s,new zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Hu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Hu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:bR(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function bR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}class RR extends ER{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,i)}}function V_(r){r=gr(r,Ec);const e=gr(r.firestore,so),i=_0(e),s=new RR(e);return vR(r._query),sR(i,r._query).then(o=>new SR(e,s,r,o))}function wR(r,e,i,...s){r=gr(r,Cn);const o=gr(r.firestore,so),h=T0(o);let d;return d=typeof(e=ii(e))=="string"||e instanceof Tc?pR(h,"updateDoc",r._key,e,i,s):gR(h,"updateDoc",r._key,e),$d(o,[d.toMutation(r._key,Un.exists(!0))])}function N_(r){return $d(gr(r.firestore,so),[new wd(r._key,Un.none())])}function DR(r,e){const i=gr(r.firestore,so),s=fd(r),o=TR(r.converter,e);return $d(i,[mR(T0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then(()=>s)}function $d(r,e){return function(s,o){const h=new ga;return s.asyncQueue.enqueueAndForget(async()=>Qb(await aR(s),o,h)),h.promise}(_0(r),e)}(function(e,i=!0){(function(o){bs=o})(WA),ya(new Oi("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new so(new fS(s.getProvider("auth-internal")),new gS(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ti(xy,Uy,e),ti(xy,Uy,"esm2017")})();var CR="firebase",IR="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(CR,IR,"app");const D0="@firebase/installations",Zd="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=1e4,I0=`w:${Zd}`,V0="FIS_v2",VR="https://firebaseinstallations.googleapis.com/v1",NR=60*60*1e3,OR="installations",MR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pr=new sc(OR,MR,xR);function N0(r){return r instanceof ba&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0({projectId:r}){return`${VR}/projects/${r}/installations`}function M0(r){return{token:r.token,requestStatus:2,expiresIn:LR(r.expiresIn),creationTime:Date.now()}}async function x0(r,e){const s=(await e.json()).error;return pr.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function U0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function UR(r,{refreshToken:e}){const i=U0(r);return i.append("Authorization",zR(e)),i}async function L0(r){const e=await r();return e.status>=500&&e.status<600?r():e}function LR(r){return Number(r.replace("s","000"))}function zR(r){return`${V0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=O0(r),o=U0(r),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:V0,appId:r.appId,sdkVersion:I0},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await L0(()=>fetch(s,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:M0(v.authToken)}}else throw await x0("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=/^[cdef][\w-]{21}$/,md="";function qR(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=jR(r);return kR.test(i)?i:md}catch{return md}}function jR(r){return BR(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;function B0(r,e){const i=bc(r);k0(i,e),HR(i,e)}function k0(r,e){const i=P0.get(r);if(i)for(const s of i)s(e)}function HR(r,e){const i=GR();i&&i.postMessage({key:r,fid:e}),FR()}let fr=null;function GR(){return!fr&&"BroadcastChannel"in self&&(fr=new BroadcastChannel("[Firebase] FID Change"),fr.onmessage=r=>{k0(r.data.key,r.data.fid)}),fr}function FR(){P0.size===0&&fr&&(fr.close(),fr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebase-installations-database",YR=1,yr="firebase-installations-store";let jf=null;function Jd(){return jf||(jf=K_(QR,YR,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(yr)}}})),jf}async function ac(r,e){const i=bc(r),o=(await Jd()).transaction(yr,"readwrite"),h=o.objectStore(yr),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&B0(r,e.fid),e}async function q0(r){const e=bc(r),s=(await Jd()).transaction(yr,"readwrite");await s.objectStore(yr).delete(e),await s.done}async function Rc(r,e){const i=bc(r),o=(await Jd()).transaction(yr,"readwrite"),h=o.objectStore(yr),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&B0(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(r){let e;const i=await Rc(r.appConfig,s=>{const o=KR(s),h=XR(r,o);return e=h.registrationPromise,h.installationEntry});return i.fid===md?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function KR(r){const e=r||{fid:qR(),registrationStatus:0};return j0(e)}function XR(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(pr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=$R(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZR(r)}:{installationEntry:e}}async function $R(r,e){try{const i=await PR(r,e);return ac(r.appConfig,i)}catch(i){throw N0(i)&&i.customData.serverCode===409?await q0(r.appConfig):await ac(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function ZR(r){let e=await O_(r.appConfig);for(;e.registrationStatus===1;)await z0(100),e=await O_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Wd(r);return s||i}return e}function O_(r){return Rc(r,e=>{if(!e)throw pr.create("installation-not-found");return j0(e)})}function j0(r){return JR(r)?{fid:r.fid,registrationStatus:0}:r}function JR(r){return r.registrationStatus===1&&r.registrationTime+C0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR({appConfig:r,heartbeatServiceProvider:e},i){const s=tw(r,i),o=UR(r,i),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:I0,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await L0(()=>fetch(s,g));if(_.ok){const v=await _.json();return M0(v)}else throw await x0("Generate Auth Token",_)}function tw(r,{fid:e}){return`${O0(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(r,e=!1){let i;const s=await Rc(r.appConfig,h=>{if(!H0(h))throw pr.create("not-registered");const d=h.authToken;if(!e&&iw(d))return h;if(d.requestStatus===1)return i=ew(r,e),h;{if(!navigator.onLine)throw pr.create("app-offline");const g=rw(h);return i=nw(r,g),g}});return i?await i:s.authToken}async function ew(r,e){let i=await M_(r.appConfig);for(;i.authToken.requestStatus===1;)await z0(100),i=await M_(r.appConfig);const s=i.authToken;return s.requestStatus===0?tm(r,e):s}function M_(r){return Rc(r,e=>{if(!H0(e))throw pr.create("not-registered");const i=e.authToken;return sw(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nw(r,e){try{const i=await WR(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await ac(r.appConfig,s),i}catch(i){if(N0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await q0(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ac(r.appConfig,s)}throw i}}function H0(r){return r!==void 0&&r.registrationStatus===2}function iw(r){return r.requestStatus===2&&!aw(r)}function aw(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+NR}function rw(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function sw(r){return r.requestStatus===1&&r.requestTime+C0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(r){const e=r,{installationEntry:i,registrationPromise:s}=await Wd(e);return s?s.catch(console.error):tm(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(r,e=!1){const i=r;return await uw(i),(await tm(i,e)).token}async function uw(r){const{registrationPromise:e}=await Wd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r){if(!r||!r.options)throw Hf("App Configuration");if(!r.name)throw Hf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw Hf(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Hf(r){return pr.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="installations",hw="installations-internal",fw=r=>{const e=r.getProvider("app").getImmediate(),i=cw(e),s=eo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},dw=r=>{const e=r.getProvider("app").getImmediate(),i=eo(e,G0).getImmediate();return{getId:()=>lw(i),getToken:o=>ow(i,o)}};function mw(){ya(new Oi(G0,fw,"PUBLIC")),ya(new Oi(hw,dw,"PRIVATE"))}mw();ti(D0,Zd);ti(D0,Zd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc="analytics",gw="firebase_id",pw="origin",yw=60*1e3,_w="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",em="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new yd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mn=new sc("analytics","Analytics",vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){if(!r.startsWith(em)){const e=mn.create("invalid-gtag-resource",{gtagURL:r});return nn.warn(e.message),""}return r}function F0(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function Tw(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function Aw(r,e){const i=Tw("firebase-js-sdk-policy",{createScriptURL:Ew}),s=document.createElement("script"),o=`${em}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function Sw(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function bw(r,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const _=(await F0(i)).find(v=>v.measurementId===o);_&&await e[_.appId]}}catch(g){nn.error(g)}r("config",o,h)}async function Rw(r,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await F0(i);for(const _ of d){const v=g.find(N=>N.measurementId===_),A=v&&e[v.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),r("event",s,o||{})}catch(h){nn.error(h)}}function ww(r,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,_]=d;await Rw(r,e,i,g,_)}else if(h==="config"){const[g,_]=d;await bw(r,e,i,s,g,_)}else if(h==="consent"){const[g,_]=d;r("consent",g,_)}else if(h==="get"){const[g,_,v]=d;r("get",g,_,v)}else if(h==="set"){const[g]=d;r("set",g)}else r(h,...d)}catch(g){nn.error(g)}}return o}function Dw(r,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=ww(h,r,e,i),{gtagCore:h,wrappedGtag:window[o]}}function Cw(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(em)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=30,Vw=1e3;class Nw{constructor(e={},i=Vw){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Q0=new Nw;function Ow(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function Mw(r){var e;const{appId:i,apiKey:s}=r,o={method:"GET",headers:Ow(s)},h=_w.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function xw(r,e=Q0,i){const{appId:s,apiKey:o,measurementId:h}=r.options;if(!s)throw mn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw mn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new zw;return setTimeout(async()=>{g.abort()},yw),Y0({appId:s,apiKey:o,measurementId:h},d,g,e)}async function Y0(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=Q0){var h;const{appId:d,measurementId:g}=r;try{await Uw(s,e)}catch(_){if(g)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await Mw(r);return o.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!Lw(v)){if(o.deleteThrottleMetadata(d),g)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const A=Number((h=v==null?void 0:v.customData)===null||h===void 0?void 0:h.httpStatus)===503?by(i,o.intervalMillis,Iw):by(i,o.intervalMillis),N={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,N),nn.debug(`Calling attemptFetch again in ${A} millis`),Y0(r,N,s,o)}}function Uw(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(h),s(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Lw(r){if(!(r instanceof ba)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class zw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Pw(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(){if(G_())try{await F_()}catch(r){return nn.warn(mn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return nn.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kw(r,e,i,s,o,h,d){var g;const _=xw(r);_.then(j=>{i[j.measurementId]=j.appId,r.options.measurementId&&j.measurementId!==r.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>nn.error(j)),e.push(_);const v=Bw().then(j=>{if(j)return s.getId()}),[A,N]=await Promise.all([_,v]);Cw(h)||Aw(h,A.measurementId),o("js",new Date);const z=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return z[pw]="firebase",z.update=!0,N!=null&&(z[gw]=N),o("config",A.measurementId,z),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.app=e}_delete(){return delete Ql[this.app.options.appId],Promise.resolve()}}let Ql={},x_=[];const U_={};let Gf="dataLayer",jw="gtag",L_,K0,z_=!1;function Hw(){const r=[];if(FT()&&r.push("This is a browser extension environment."),YT()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=mn.create("invalid-analytics-context",{errorInfo:e});nn.warn(i.message)}}function Gw(r,e,i){Hw();const s=r.options.appId;if(!s)throw mn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(Ql[s]!=null)throw mn.create("already-exists",{id:s});if(!z_){Sw(Gf);const{wrappedGtag:h,gtagCore:d}=Dw(Ql,x_,U_,Gf,jw);K0=h,L_=d,z_=!0}return Ql[s]=kw(r,x_,U_,e,L_,Gf,i),new qw(r)}function Fw(r=$_()){r=ii(r);const e=eo(r,rc);return e.isInitialized()?e.getImmediate():Qw(r)}function Qw(r,e={}){const i=eo(r,rc);if(i.isInitialized()){const o=i.getImmediate();if(Yl(e,i.getOptions()))return o;throw mn.create("already-initialized")}return i.initialize({options:e})}function Yw(r,e,i,s){r=ii(r),Pw(K0,Ql[r.app.options.appId],e,i,s).catch(o=>nn.error(o))}const P_="@firebase/analytics",B_="0.10.12";function Kw(){ya(new Oi(rc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Gw(s,o,i)},"PUBLIC")),ya(new Oi("analytics-internal",r,"PRIVATE")),ti(P_,B_),ti(P_,B_,"esm2017");function r(e){try{const i=e.getProvider(rc).getImmediate();return{logEvent:(s,o,h)=>Yw(i,s,o,h)}}catch(i){throw mn.create("interop-component-reg-failed",{reason:i})}}}Kw();const Xw={apiKey:"AIzaSyByiRTS9k_WnDpDrXEPIfG-xZAaKGDSK2c",authDomain:"todolistcipas.firebaseapp.com",projectId:"todolistcipas",storageBucket:"todolistcipas.firebasestorage.app",messagingSenderId:"745932854762",appId:"1:745932854762:web:cdfd7286b4f52ba5b94e93",measurementId:"G-3FE0C85DL4"};console.log("API Key:",import.meta.VITE_FIREBASE_API_KEY);const X0=X_(Xw);Fw(X0);const Pl=uR(X0),$w=r=>`https://cdn.jsdelivr.net/npm/simple-icons@v6/icons/${r}.svg`,Zw=({name:r,url:e,className:i})=>{const s=$w(r);return at.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:`social-circle ${i}`,children:at.jsx("img",{src:s,alt:`${r} icon`,className:"social-icon",onError:o=>{o.target.src="https://cdn.jsdelivr.net/npm/simple-icons@v6/icons/error.svg"}})})};function Jw(){const[r,e]=We.useState(""),i=o=>{let h=o.getHours();const d=o.getMinutes(),g=o.getSeconds(),_=h>=12?"PM":"AM";return h=h%12||12,`${h.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")} ${_}`};We.useEffect(()=>{const o=setInterval(()=>{const d=i(new Date);e(d)},1e3);return()=>clearInterval(o)},[]);const s=[{name:"facebook",url:"https://www.facebook.com/javier.zapata.9828/",className:"social-circle",hideOnMobile:!0},{name:"instagram",url:"https://www.instagram.com/javier.zapata99/",className:"social-circle",hideOnMobile:!0},{name:"linkedin",url:"https://www.linkedin.com/in/javieerzapata/",className:"social-circle",hideOnMobile:!0},{name:"youtube",url:"https://www.youtube.com/@javieralejandrozapata7720",className:"social-circle",hideOnMobile:!0},{name:"gmail",url:"mailto:zapatajavier34@gmail.com",className:"social-circle",hideOnMobile:!1},{name:"whatsapp",url:"https://wa.me/573023137764?text=%C2%A1Hola!%20Quiero%20mas%20informaci%C3%B3n%20para%20trabajar%20contigo",className:"social-circle",hideOnMobile:!1}];return at.jsxs("footer",{children:[at.jsxs("div",{className:"containerSuperior",children:[at.jsx("section",{className:"social-links",children:s.map(o=>at.jsx(Zw,{...o,className:`${o.className} ${o.hideOnMobile?"ocultar-en-movil":""}`},o.name))}),at.jsxs("section",{className:"clock",children:[at.jsx("h3",{children:"Hora en tiempo real en Colombia"}),at.jsx("h3",{children:r||"Revisando la hora en Colombia..."})]})]}),at.jsx("hr",{class:"custom-line"}),at.jsx("section",{className:"copyright",children:at.jsxs("p",{children:["© 2025 ToDoList, diseñado por"," ",at.jsx("strong",{children:at.jsx("a",{href:"https://www.instagram.com/javier.zapata99/?hl=es",children:"Javier Zapata"})})]})})]})}const k_=({tarea:r,toggleCompletado:e,eliminarTarea:i})=>at.jsxs("li",{className:`tarea ${r.completado?"completado":""}`,children:[at.jsxs("div",{className:"tarea-contenido",children:[at.jsxs("p",{className:"tarea-materia",children:[at.jsx("strong",{children:"Materia:"})," ",r.materia]}),at.jsx("p",{className:"tarea-texto",children:r.texto}),at.jsxs("p",{className:"tarea-responsable",children:[at.jsx("strong",{children:"Responsable:"})," ",r.responsable]}),r.link&&at.jsx("p",{className:"tarea-link",children:at.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",children:"Ver enlace"})}),at.jsxs("p",{className:"tarea-fecha",children:[at.jsx("strong",{children:"Fecha de entrega:"})," ",r.fechaEntrega]})]}),at.jsxs("div",{className:"tarea-acciones",children:[at.jsx("input",{type:"checkbox",checked:r.completado,onChange:()=>e(r.id),className:"tarea-checkbox"}),at.jsx("button",{onClick:()=>i(r.id),className:"tarea-eliminar",children:"Eliminar"})]})]});function Ww(){const r=["Javier Zapata","Jhonatan Rojas","Michael Martinez"],e=["Cálculo","Elementos","Ingles","Ética","Teoría","Estadística"],[i,s]=We.useState(!1),[o,h]=We.useState(""),[d,g]=We.useState(""),[_,v]=We.useState(""),[A,N]=We.useState(""),[z,j]=We.useState(""),[J,nt]=We.useState(!0),[$,Tt]=We.useState([]),Et=We.useRef(null);We.useEffect(()=>{(async()=>{nt(!0);const V=qf(Pl,"tareas"),w=(await V_(V)).docs.map(Xt=>({id:Xt.id,...Xt.data()}));Tt(w),nt(!1)})()},[]),We.useEffect(()=>{localStorage.setItem("tareas",JSON.stringify($))},[$]),We.useEffect(()=>(i?(window.addEventListener("keydown",It),Et.current&&Et.current.focus()):window.removeEventListener("keydown",It),()=>{window.removeEventListener("keydown",It)}),[i]);const mt=async b=>{const V=fd(Pl,"tareas",b),M=$.find(Xt=>Xt.id===b);await wR(V,{completado:!M.completado});const w=$.map(Xt=>Xt.id===b?{...Xt,completado:!Xt.completado}:Xt);Tt(w)},Lt=async()=>{if(o.trim()&&d.trim()&&_.trim()&&z.trim()){const b={materia:o.toUpperCase(),texto:d.toUpperCase(),completado:!1,responsable:_.toUpperCase(),link:A,fechaEntrega:z},V=await DR(qf(Pl,"tareas"),b);Tt([...$,{id:V.id,...b}]),h(""),g(""),v(""),N(""),j(""),s(!1)}},_t=b=>{b.key==="Enter"&&Lt()},It=b=>{b.key==="Escape"&&s(!1)},O=b=>{i&&b.target.className==="modal"&&s(!1)},S=async b=>{await N_(fd(Pl,"tareas",b)),Tt($.filter(V=>V.id!==b))},D=$.filter(b=>b.completado);return at.jsxs(at.Fragment,{children:[at.jsx("h1",{className:"titulo",children:"Pendientes UT - The Police"}),J?at.jsx("div",{className:"cargando",children:at.jsx("p",{children:"Cargando Tareas ..."})}):at.jsxs(at.Fragment,{children:[at.jsxs("div",{className:"todolist",children:[at.jsxs("div",{className:"listaNoDone",children:[at.jsx("h2",{children:"Lista de Tareas"}),$.filter(b=>!b.completado).length===0?at.jsx("p",{className:"texto-relax",children:"Estamos al día, relax 😎"}):at.jsx("ul",{children:$.filter(b=>!b.completado).map(b=>at.jsx(k_,{tarea:b,toggleCompletado:mt,eliminarTarea:S},b.id))})]}),at.jsx("div",{className:"listaDone",children:D.length>0&&at.jsxs(at.Fragment,{children:[at.jsx("h2",{children:"Tareas Completadas"}),at.jsx("ul",{children:D.map(b=>at.jsx(k_,{tarea:b,toggleCompletado:mt,eliminarTarea:S},b.id))})]})})]}),at.jsxs("div",{className:"buttons",children:[at.jsx("button",{className:"añadirTarea",onClick:()=>s(!0),children:"Añadir Tarea"}),at.jsx("button",{className:"borrarTarea",onClick:async()=>{const b=qf(Pl,"tareas"),M=(await V_(b)).docs.map(w=>N_(w.ref));await Promise.all(M),Tt([])},children:"Borrar todas las tareas"})]}),i&&at.jsx("div",{className:"modal",onKeyDown:It,onClick:O,tabIndex:"0",children:at.jsxs("div",{className:"modal-content",children:[at.jsx("h3",{children:"Nueva Tarea"}),at.jsxs("select",{value:o,onChange:b=>h(b.target.value),children:[at.jsx("option",{value:"",disabled:!0,children:"Selecciona una materia"}),e.map((b,V)=>at.jsx("option",{value:b,children:b},V))]}),at.jsx("input",{type:"text",value:d,onChange:b=>g(b.target.value),onKeyPress:_t,placeholder:"Descripción de la tarea",ref:Et}),at.jsxs("select",{value:_,onChange:b=>v(b.target.value),children:[at.jsx("option",{value:"",disabled:!0,children:"Selecciona un responsable"}),r.map((b,V)=>at.jsx("option",{value:b,children:b},V))]}),at.jsx("input",{type:"url",value:A,onChange:b=>N(b.target.value),placeholder:"Enlace (opcional)"}),at.jsx("input",{type:"date",value:z,onChange:b=>j(b.target.value),placeholder:"Fecha de entrega"}),at.jsx("button",{onClick:Lt,children:"Agregar"}),at.jsx("button",{onClick:()=>s(!1),children:"Cancelar"})]})}),at.jsx(Jw,{})]})]})}const t2=IT.createRoot(document.getElementById("app"));t2.render(at.jsx(Ww,{}));
